"use strict";exports.id=802,exports.ids=[802],exports.modules={2943:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},3802:(a,b,c)=>{c.d(b,{A:()=>G});var d=c(60687),e=c(60774),f=c(36073),g=c(31316),h=c(7494),i=c(85814),j=c.n(i),k=c(43210),l=c.n(k),m=c(9005),n=c(2943),o=c(62688);let p=(0,o.A)("headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);var q=c(78464),r=c(10022),s=c(40228),t=c(78272),u=c(93613),v=c(11860),w=c(99270);let x=(0,o.A)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),y=(0,o.A)("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var z=c(64021),A=c(97992),B=c(48730);let C=({totalRecords:a,limit:b,offset:c,onPageChange:e,className:f=""})=>{let g=Math.floor(c/b)+1,h=Math.ceil(a/b);if(h<=1)return null;let i=(()=>{let a=[],b=[];if(h<=7){for(let a=1;a<=h;a++)b.push(a);return b}let c=Math.max(2,g-2),d=Math.min(h-1,g+2);for(let b=c;b<=d;b++)a.push(b);c>2?(b.push(1),c>3&&b.push("...")):b.push(1),b.push(...a),d<h-1?(d<h-2&&b.push("..."),b.push(h)):d===h-1&&b.push(h);let e=[],f=new Set;for(let a of b)f.has(a)||(e.push(a),f.add(a));return e})();return(0,d.jsx)("div",{className:"border border-red-500  rounded-xl shadow-lg",children:(0,d.jsxs)("div",{className:`inline-flex items-center bg-white rounded-full shadow-sm px-1 py-1 ${f}`,children:[(0,d.jsx)("button",{onClick:()=>{console.log("Previous clicked, current page:",g),g>1&&(console.log("Calling onPageChange with:",g-1),e(g-1))},disabled:1===g,className:`px-2 py-1 text-xs font-medium rounded-full transition-colors duration-200 ${1===g?"text-gray-400 cursor-not-allowed":"text-red-500 hover:bg-red-50"}`,children:"Prev"}),i.map((a,b)=>(0,d.jsx)(l().Fragment,{children:"..."===a?(0,d.jsx)("span",{className:"px-2 py-1 text-xs text-gray-400",children:"..."}):(0,d.jsx)("button",{onClick:()=>(a=>{"number"==typeof a&&a!==g&&e(a)})(a),className:`min-w-[28px] h-6 text-xs font-medium rounded-full transition-all duration-200 ${a===g?"bg-red-500 text-white shadow-sm":"text-red-500 hover:bg-red-50"}`,children:a})},`page-${b}-${a}`)),(0,d.jsx)("button",{onClick:()=>{console.log("Next clicked, current page:",g,"total pages:",h),g<h&&(console.log("Calling onPageChange with:",g+1),e(g+1))},disabled:g===h,className:`px-2 py-1 text-xs font-medium rounded-full transition-colors duration-200 ${g===h?"text-gray-400 cursor-not-allowed":"text-red-500 hover:bg-red-50"}`,children:"Next"})]})})};var D=c(38841),E=c(16189),F=c(57445);let G=({status:a,countKey:b,title:c})=>{let{user:i}=(0,F.A)();(0,E.useRouter)(),console.log("============sujit============="),console.log(i),console.log("============sujit=============");let{updateCount:l}=(0,h.tL)(),[o,G]=(0,k.useState)(""),[H,I]=(0,k.useState)(""),[J,K]=(0,k.useState)(""),[L,M]=(0,k.useState)(""),[N,O]=(0,k.useState)([]),[P,Q]=(0,k.useState)([]),[R,S]=(0,k.useState)("grid"),[T,U]=(0,k.useState)(null),[V,W]=(0,k.useState)([]),[X,Y]=(0,k.useState)(!0),[Z,$]=(0,k.useState)(1),[_,aa]=(0,k.useState)(0),[ab]=(0,k.useState)(12),[ac,ad]=(0,k.useState)(null),[ae,af]=(0,k.useState)([]),[ag,ah]=(0,k.useState)([]),[ai,aj]=(0,k.useState)(!0),[ak,al]=(0,k.useState)(!0),am=async(c=1)=>{try{Y(!0),ad(null);let d=await (0,D.m)({page:c,limit:ab,appliedSearchTerm:H,dateFrom:J,dateTo:L,selectedLocations:N,selectedPriorities:P,status:a});W(d.results),aa(d.total_records),$(c),1===c&&(l(b,d.total_records),console.log(`Updated ${b} count to:`,d.total_records))}catch(a){ad(a instanceof Error?a.message:"An error occurred"),W([]),aa(0)}finally{Y(!1)}},an=()=>!!(o.trim()||J||L||N.length>0||P.length>0),ao=async()=>{try{aj(!0);let a=await (0,g.V)();if(a.success&&a.data&&Array.isArray(a.data)){let b=a.data.filter(a=>a.location&&"string"==typeof a.location).map(a=>({id:a.location.trim(),name:a.location.trim()}));af(b)}else console.error("Invalid locations response structure:",a)}catch(a){console.error("Error fetching locations:",a)}finally{aj(!1)}},ap=async()=>{try{al(!0);let a=await (0,f.l)();a.success&&a.data&&Array.isArray(a.data)&&ah(a.data)}catch(a){console.error("Error fetching priorities:",a)}finally{al(!1)}};(0,k.useEffect)(()=>{am(1)},[a]),(0,k.useEffect)(()=>{ao(),ap()},[]),(0,k.useEffect)(()=>{let a=a=>{a.target&&(a.target.closest(".dropdown-container")||U(null))};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);let aq=()=>{let c=o.trim();I(c),(0,D.m)({page:1,limit:ab,appliedSearchTerm:c,dateFrom:J,dateTo:L,selectedLocations:N,selectedPriorities:P,status:a}).then(a=>{W(a.results),aa(a.total_records),$(1),l(b,a.total_records)})},ar=async()=>{G(""),I(""),K(""),M(""),O([]),Q([]);try{Y(!0),ad(null);let c=await (0,D.m)({page:1,limit:ab,appliedSearchTerm:"",dateFrom:"",dateTo:"",selectedLocations:[],selectedPriorities:[],status:a});W(c.results),aa(c.total_records),$(1),l(b,c.total_records)}catch(a){ad(a instanceof Error?a.message:"An error occurred"),W([]),aa(0)}finally{Y(!1)}};return X||ai||ak?(0,d.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,d.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,d.jsxs)("div",{className:"animate-pulse",children:[(0,d.jsx)("div",{className:"h-8 bg-gray-200 rounded w-48 mb-6"}),(0,d.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,d.jsx)("div",{className:"flex space-x-4 mb-6",children:[1,2,3,4].map(a=>(0,d.jsx)("div",{className:"h-10 bg-gray-200 rounded w-32"},a))}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4,5,6,7,8].map(a=>(0,d.jsx)("div",{className:"h-64 bg-gray-200 rounded-lg"},a))})]})]})})}):ac?(0,d.jsx)("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(u.A,{size:64,className:"mx-auto text-red-500 mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Error loading data"}),(0,d.jsx)("p",{className:"text-gray-500 mb-4",children:ac}),(0,d.jsx)("button",{onClick:()=>am(Z),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})}):(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,d.jsx)("div",{className:"sticky top-0 z-20 bg-gray-50 shadow-sm",children:(0,d.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,d.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row items-baseline lg:justify-between gap-4",children:[(0,d.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,d.jsx)(()=>(0,d.jsxs)("div",{className:"relative dropdown-container",children:[(0,d.jsxs)("button",{onClick:a=>{a.stopPropagation(),U("dateRange"===T?null:"dateRange")},className:"flex items-center justify-between space-x-2 px-3 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 text-sm font-medium text-gray-700 min-w-[140px] transition-colors",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(s.A,{size:16}),(0,d.jsx)("span",{className:"truncate",children:"Date"})]}),(0,d.jsx)(t.A,{size:16,className:`transition-transform duration-200 ${"dateRange"===T?"rotate-180":""}`})]}),"dateRange"===T&&(0,d.jsx)("div",{className:"absolute z-30 mt-1 w-72 bg-white border border-gray-300 rounded-md shadow-lg p-4",children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),(0,d.jsx)("input",{type:"date",value:J,onChange:a=>K(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),(0,d.jsx)("input",{type:"date",value:L,onChange:a=>M(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),(0,d.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,d.jsx)("button",{onClick:()=>{K(""),M(""),U(null)},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Clear"}),(0,d.jsx)("button",{onClick:()=>{U(null),(J||L)&&am(1)},disabled:!J&&!L,className:`flex-1 px-3 py-2 text-sm rounded-md transition-colors ${J||L?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Apply"})]})]})})]}),{}),(0,d.jsx)(e.A,{label:"Location",selectedItems:N,options:ae,onToggleItem:a=>{O(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},onSelectAll:()=>{O(ae.map(a=>a.id))},onClearAll:()=>{O([])},dropdownKey:"location",openDropdown:T,setOpenDropdown:U,idKey:"id",displayKey:"name",isLoading:ai}),(0,d.jsx)(e.A,{label:"Priority",selectedItems:P,options:ag,onToggleItem:a=>{Q(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},onSelectAll:()=>{Q(ag.map(a=>a.id))},onClearAll:()=>{Q([])},dropdownKey:"priority",openDropdown:T,setOpenDropdown:U,idKey:"id",displayKey:"priority",isLoading:ak}),(o.trim()||H||J||L||N.length>0||P.length>0)&&(0,d.jsx)("button",{onClick:ar,className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-2xl hover:bg-red-50 transition-colors bg-red-100",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(v.A,{size:16}),(0,d.jsx)("span",{children:"Clear Filters"})]})})]}),(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(w.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),(0,d.jsx)("input",{type:"text",value:o,onChange:a=>G(a.target.value),onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),aq())},placeholder:"Search stories...",className:"pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm w-64 bg-white"})]}),(0,d.jsx)("button",{onClick:aq,disabled:!an(),className:`px-4 py-2.5 rounded-lg transition-colors text-sm font-medium ${an()?"bg-blue-600 text-white hover:bg-blue-700 cursor-pointer":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Apply"})]}),(0,d.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg overflow-hidden p-1",children:[(0,d.jsx)("button",{onClick:()=>S("grid"),className:`p-2 rounded-md transition-all ${"grid"===R?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:(0,d.jsx)(x,{size:18})}),(0,d.jsx)("button",{onClick:()=>S("list"),className:`p-2 rounded-md transition-all ${"list"===R?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:(0,d.jsx)(y,{size:18})})]})]})})]})})})}),(0,d.jsxs)("div",{className:"relative max-w-7xl mx-auto py-6",children:[(0,d.jsx)("div",{className:`grid gap-4 ${"grid"===R?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:V.map(a=>{let b=(a=>{let b=new Date(a),c=new Date().getTime()-b.getTime(),d=Math.floor(c/864e5),e=Math.floor(c%864e5/36e5),f=Math.floor(c%36e5/6e4);return d>0?`${d} d, ${e} hr`:e>0?`${e} hr, ${f} min`:`${f} min`})(a.created_date),c=(0,d.jsxs)(d.Fragment,{children:[a.status_text&&""!==a.status_text.trim()?(0,d.jsx)("div",{className:"relative",children:(0,d.jsx)("div",{className:"absolute top-0 right-0 bg-teal-600 text-white font-medium",style:{fontSize:"0.5rem",lineHeight:"0.6rem",paddingTop:"0.2rem",paddingBottom:"0.2rem",paddingLeft:"0.2rem",paddingRight:"0.2rem",borderRadius:"0px 6px"},children:a.status_text})}):null,a.locked&&i.user_id!=a.lock.locked_by?(0,d.jsxs)("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-30 flex flex-col items-center justify-center z-10",children:[(0,d.jsx)("div",{className:"bg-white p-4 rounded-full shadow-lg mb-10",children:(0,d.jsx)(z.A,{size:32,className:"text-gray-600"})}),(0,d.jsxs)("div",{style:{backgroundColor:"#a4170c",color:"#fff",paddingTop:"0.35rem",paddingBottom:"0.35rem",paddingLeft:".45rem",paddingRight:".45rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",width:"100%"},children:[(0,d.jsx)(z.A,{size:10}),(0,d.jsxs)("span",{style:{fontSize:"0.575rem",lineHeight:"0.76",fontWeight:500},children:["Locked by ",a.lock.locked_by_name]})]})]}):null,(0,d.jsxs)("div",{className:`p-4 pt-4 ${a.locked&&i.user_id!=a.lock.locked_by?"opacity-70":""}`,children:[(0,d.jsxs)("div",{className:"flex items-start gap-3 mb-3",style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[(0,d.jsx)("div",{children:(0,d.jsx)(s.A,{size:14})}),(0,d.jsx)("div",{className:"flex-1 min-w-0",children:(0,d.jsx)("div",{className:"text-sm text-gray-500",children:new Date(a.created_date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})})})]}),(0,d.jsx)("h3",{className:"font-semibold text-gray-900 text-base leading-tight",style:{minHeight:"80px",borderBottom:"1px solid #aba7a759",marginBottom:"1px",paddingBottom:"20px",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3,overflow:"hidden",textOverflow:"ellipsis",wordWrap:"break-word",lineHeight:"1.4"},children:a.headline}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[(0,d.jsx)(A.A,{size:14}),(0,d.jsx)("span",{className:"text-sm",children:a.location})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("div",{className:"text-xs text-gray-500",children:"priority"}),(0,d.jsx)("div",{className:`text-sm font-semibold ${(a=>{switch(a){case"High":return"text-orange-600";case"Medium":return"text-yellow-600";case"Breaking":return"text-red-600";case"Low":return"text-green-600";default:return"text-gray-600"}})(a.priority_text)}`,children:a.priority_text})]})]}),(0,d.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,d.jsxs)("div",{className:"text-sm text-gray-600",children:["By ",(0,d.jsx)("span",{className:"font-medium text-gray-900",children:a.created_name})]})}),(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[((a=[])=>{if(!a||0===a.length)return null;let b=[...new Set(a.map(a=>{let b=a.mime?.toLowerCase()||"";return b.startsWith("image/")?"image":b.startsWith("video/")?"video":b.startsWith("audio/")?"audio":"application/pdf"===b?"pdf":"document"}))];return(0,d.jsxs)("div",{className:"flex items-center",style:{gap:"-6px"},children:[b.slice(0,4).map((a,c)=>(0,d.jsx)("div",{style:{marginLeft:c>0?"-6px":"0",zIndex:b.length-c},children:(a=>{let b="w-6 h-6 rounded-full flex items-center justify-center text-white text-xs";switch(a){case"image":return(0,d.jsx)("div",{className:`${b} bg-green-500`,children:(0,d.jsx)(m.A,{size:10})});case"video":return(0,d.jsx)("div",{className:`${b} bg-blue-500`,children:(0,d.jsx)(n.A,{size:10})});case"audio":return(0,d.jsx)("div",{className:`${b} bg-purple-500`,children:(0,d.jsx)(p,{size:10})});case"pdf":return(0,d.jsx)("div",{className:`${b} bg-red-500`,children:(0,d.jsx)(q.A,{size:10})});default:return(0,d.jsx)("div",{className:`${b} bg-orange-500`,children:(0,d.jsx)(r.A,{size:10})})}})(a)},c)),b.length>4&&(0,d.jsxs)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center bg-gray-500 text-white text-xs font-medium",style:{marginLeft:"-6px",zIndex:0},children:["+",b.length-4]})]})})(a.attachments),(0,d.jsxs)("div",{style:{backgroundColor:"#a4170c",color:"#fff",borderRadius:"1.375rem",paddingTop:"0.15rem",paddingBottom:"0.15rem",paddingLeft:".25rem",paddingRight:".25rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",width:"fit-content",marginLeft:"auto"},children:[(0,d.jsx)(B.A,{size:12}),(0,d.jsxs)("span",{style:{fontSize:"0.575rem",lineHeight:"0.76",fontWeight:500},children:["Waiting ",b]})]})]})]})]});return(0,d.jsx)("div",{children:a.locked&&i.user_id!=a.lock.locked_by?(0,d.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 hover:shadow-sm transition-all duration-200 overflow-hidden relative",children:c}):(0,d.jsx)(j(),{href:`/details/${a.id}`,children:(0,d.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 hover:shadow-sm transition-all duration-200 cursor-pointer overflow-hidden relative",children:c})})},a.id)})}),0===V.length&&!X&&(0,d.jsxs)("div",{className:"text-center py-20",children:[(0,d.jsx)("div",{className:"text-gray-300 mb-6",children:(0,d.jsx)(u.A,{size:64,className:"mx-auto"})}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No stories found"}),(0,d.jsx)("p",{className:"text-gray-500",children:"Try adjusting your filters or search terms"})]}),_>0&&(0,d.jsx)("div",{className:"fixed bottom-5 right-16 transform z-50 max-w-7xl w-full flex justify-end pointer-events-none",children:(0,d.jsx)("div",{className:"pointer-events-auto",children:(0,d.jsx)(C,{offset:(Z-1)*ab,totalRecords:_,limit:ab,onPageChange:a=>{am(a)}})})})]})]})}},9005:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},10022:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},31316:(a,b,c)=>{c.d(b,{V:()=>e,u:()=>f});var d=c(17327);let e=async()=>{try{let a=await d.A.get("/api/location/",{headers:{"Content-Type":"application/json"}});return{success:!0,data:a.data}}catch(a){return{success:!1,message:a.response?.data?.detail||a.response?.data?.message||"Error fetching locations."}}},f=async a=>{try{let b=await d.A.post("/api/location/",a,{headers:{"Content-Type":"application/json"}});return{success:!0,data:b.data}}catch(a){return{success:!1,message:a.response?.data?.detail||a.response?.data?.message||"Error fetching locations."}}}},36073:(a,b,c)=>{c.d(b,{l:()=>e});var d=c(17327);let e=async()=>{try{let a=await d.A.get("/api/priority/",{headers:{"Content-Type":"application/json"}});return{success:!0,data:a.data}}catch(a){return{success:!1,message:a.response?.data?.detail||a.response?.data?.message||"Error fetching priorities."}}}},38841:(a,b,c)=>{c.d(b,{m:()=>e});var d=c(17327);let e=async a=>{try{let{page:b=1,limit:c=12,status:e,appliedSearchTerm:f,dateFrom:g,dateTo:h,selectedLocations:i,selectedPriorities:j,selectedCreatedBy:k,selectedContentTypes:l,fetchLatestMonth:m=!1}=a,n=[`status=${e}`];if(m||n.push(`limit=${c}`,`offset=${(b-1)*c}`),!m||g||h)g&&n.push(`from_date=${g}`),h&&n.push(`to_date=${h}`);else{let{from:a,to:b}=(()=>{let a=new Date,b=new Date(a.getFullYear(),a.getMonth(),1),c=new Date(a.getFullYear(),a.getMonth()+1,0);return{from:b.toISOString().split("T")[0],to:c.toISOString().split("T")[0]}})();n.push(`from_date=${a}`,`to_date=${b}`)}f&&n.push(`headline=${encodeURIComponent(f)}`),i&&i.length>0&&n.push(`location=${i.join(",")}`),j&&j.length>0&&n.push(`priority=${j.join(",")}`),k&&k.length>0&&n.push(`created_by=${k.join(",")}`),l&&l.length>0&&n.push(`content_type=${l.join(",")}`);let o=n.join("&");return console.log("API URL:",`/api/content/?${o}`),(await d.A.get(`/api/content/?${o}`,{headers:{"Content-Type":"application/json"}})).data}catch(b){let a=b.response?.data?.detail||b.response?.data?.message||b.message||"Failed to fetch data";throw console.error("Error fetching activities:",b),Error(a)}}},40228:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},48730:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},60774:(a,b,c)=>{c.d(b,{A:()=>g});var d=c(60687);c(43210);var e=c(78272);let f=(0,c(62688).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),g=({label:a,selectedItems:b,options:c,onToggleItem:g,onSelectAll:h,onClearAll:i,dropdownKey:j,openDropdown:k,setOpenDropdown:l,idKey:m="id",displayKey:n="name",isLoading:o=!1,className:p=""})=>(0,d.jsxs)("div",{className:`relative dropdown-container ${p}`,children:[(0,d.jsxs)("button",{onClick:a=>{a.stopPropagation(),l(k===j?null:j)},className:"flex items-center justify-between space-x-2 px-3 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 text-sm font-medium text-gray-700 min-w-[140px] transition-colors",disabled:o,children:[(0,d.jsx)("span",{className:"truncate",children:o?"Loading...":b?.length===0?a:b?.length===1?c.find(a=>a[m]===b[0])?.[n]||"":`${b?.length} selected`}),(0,d.jsx)(e.A,{size:16,className:`transition-transform duration-200 ${k===j?"rotate-180":""}`})]}),k===j&&!o&&(0,d.jsxs)("div",{className:"absolute z-30 mt-1 w-64 bg-white border border-gray-300 rounded-md shadow-lg max-h-80 overflow-y-auto",children:[(0,d.jsx)("div",{className:"p-2 border-b border-gray-200 bg-gray-50",children:(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("button",{onClick:a=>{a.stopPropagation(),h()},className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Select All"}),(0,d.jsx)("button",{onClick:a=>{a.stopPropagation(),i()},className:"text-xs text-gray-600 hover:text-gray-800 font-medium",children:"Clear All"})]})}),c.map(a=>(0,d.jsxs)("div",{onClick:b=>{b.stopPropagation(),g(a[m])},className:`flex items-center px-3 py-2 text-sm hover:bg-gray-100 cursor-pointer transition-colors ${b.includes(a[m])?"bg-blue-50":""}`,children:[(0,d.jsx)("div",{className:"flex items-center justify-center w-4 h-4 mr-3",children:b.includes(a[m])&&(0,d.jsx)(f,{size:14,className:"text-blue-600"})}),(0,d.jsx)("span",{className:`flex-1 ${b.includes(a[m])?"text-blue-700 font-medium":"text-gray-700"}`,children:a[n]})]},a[m])),0===c.length&&(0,d.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:"No options available"})]})]})},64021:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},78464:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]])},93613:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},97992:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},99270:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])}};