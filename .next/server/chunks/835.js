exports.id=835,exports.ids=[835],exports.modules={8458:(a,b,c)=>{Promise.resolve().then(c.bind(c,18780)),Promise.resolve().then(c.bind(c,29255))},12554:(a,b,c)=>{"use strict";c.d(b,{AuthProvider:()=>e});var d=c(61369);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\bandana\\OneDrive\\Desktop\\superapp-nextjs-otv\\src\\context\\AuthContext.tsx","AuthProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\bandana\\OneDrive\\Desktop\\superapp-nextjs-otv\\src\\context\\AuthContext.tsx","useAuth")},16682:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,16133,23)),Promise.resolve().then(c.t.bind(c,16444,23)),Promise.resolve().then(c.t.bind(c,16042,23)),Promise.resolve().then(c.t.bind(c,49477,23)),Promise.resolve().then(c.t.bind(c,29345,23)),Promise.resolve().then(c.t.bind(c,12089,23)),Promise.resolve().then(c.t.bind(c,46577,23)),Promise.resolve().then(c.t.bind(c,31307,23)),Promise.resolve().then(c.t.bind(c,14817,23))},17327:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});let d=c(51060).A.create({baseURL:"https://sppyapi.odishatv.in"});d.interceptors.request.use(a=>{let b=localStorage.getItem("token");return b&&(a.headers.Authorization=`Bearer ${b}`),a});let e=d},18780:(a,b,c)=>{"use strict";c.d(b,{A:()=>j,AuthProvider:()=>i});var d=c(60687),e=c(43210),f=c(16189),g=c(53117);let h=(0,e.createContext)(void 0),i=({children:a})=>{let[b,c]=(0,e.useState)(null),[i,j]=(0,e.useState)(!0),k=(0,f.useRouter)();return(0,e.useEffect)(()=>{let a=localStorage.getItem("token"),b=localStorage.getItem("tokenExpiration");if(a&&b)if(new Date().getTime()<parseInt(b))try{let b=(0,g.s)(a);c({user_id:b?.user_id||"0",email:b?.email||"",name:b?.name||"",phone:b?.phone||"",role_id:b?.role_id||"",role_name:b?.role_name||"",role_data:b?.role_data||{}})}catch(a){console.error("Error decoding token:",a),localStorage.removeItem("token"),localStorage.removeItem("tokenExpiration")}else localStorage.removeItem("token"),localStorage.removeItem("tokenExpiration");j(!1)},[]),(0,d.jsx)(h.Provider,{value:{user:b,loading:i,isAuthenticated:!!b,login:a=>{try{let b=new Date().getTime()+288e5;localStorage.setItem("token",a),localStorage.setItem("tokenExpiration",b.toString());let d=(0,g.s)(a);c({user_id:d?.user_id||"Guest",email:d?.email||"",name:d?.name||"",phone:d?.phone||"",role_id:d?.role_id||"",role_name:d?.role_name||"",role_data:d?.role_data||{}})}catch(a){console.error("Error during login:",a)}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("tokenExpiration"),c(null),k.replace("/login")}},children:a})},j=()=>{let a=(0,e.useContext)(h);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}},21204:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\bandana\\\\OneDrive\\\\Desktop\\\\superapp-nextjs-otv\\\\src\\\\app\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\bandana\\OneDrive\\Desktop\\superapp-nextjs-otv\\src\\app\\page.tsx","default")},27721:(a,b,c)=>{"use strict";c.d(b,{ThemeProvider:()=>e});var d=c(61369);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\bandana\\OneDrive\\Desktop\\superapp-nextjs-otv\\src\\context\\ThemeContext.tsx","ThemeProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useTheme() from the server but useTheme is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\bandana\\OneDrive\\Desktop\\superapp-nextjs-otv\\src\\context\\ThemeContext.tsx","useTheme")},29255:(a,b,c)=>{"use strict";c.d(b,{ThemeProvider:()=>g});var d=c(60687),e=c(43210);let f=(0,e.createContext)({theme:"light",toggleTheme:()=>{}}),g=({children:a})=>{let[b,c]=(0,e.useState)("light");return(0,d.jsx)(f.Provider,{value:{theme:b,toggleTheme:()=>c(a=>"light"===a?"dark":"light")},children:a})}},41233:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>k});var d=c(60687),e=c(43210),f=c(16189),g=c(18780),h=c(85253);let i=()=>(0,d.jsx)("svg",{className:"h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),j=()=>(0,d.jsx)("svg",{className:"h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),k=(a=>{let b=b=>{let c=(0,f.useRouter)(),{isAuthenticated:h,loading:i}=(0,g.A)();return((0,e.useEffect)(()=>{!i&&h&&c.replace("/dashboard")},[h,i,c]),h||i)?null:(0,d.jsx)(a,{...b})};return b.displayName=`withoutAuth(${a.displayName||a.name})`,b})(function(){let[a,b]=(0,e.useState)(""),[c,k]=(0,e.useState)(""),[l,m]=(0,e.useState)(""),[n,o]=(0,e.useState)(!1),p=(0,f.useRouter)(),{login:q}=(0,g.A)(),r=(a,b)=>((a,b)=>{if(a?.message){let b=a.message.toLowerCase();if(["network","connection","timeout","fetch","cors","failed to fetch","networkerror","connection refused","connection reset","connection timed out","no internet","offline","dns","unreachable","aborted"].some(a=>b.includes(a)))return!0}if(a?.name){let b=a.name.toLowerCase();if(b.includes("networkerror")||b.includes("typeerror"))return!0}return!!(a instanceof TypeError||b?.status&&[0,408,502,503,504,521,522,523,524].includes(b.status))||"undefined"!=typeof navigator&&!navigator.onLine})(a,b)?"Network issue detected. Please check your internet connection and try again.":b&&!b.success?401===b.status?"Invalid credentials. Please check your User ID and password.":403===b.status?"Access denied. Please contact support.":429===b.status?"Too many login attempts. Please try again later.":b.status>=500?"Server error. Please try again later.":"Invalid credentials. Please check your User ID and password.":a?.message&&a.message.length<100?a.message:"Login failed. Please check your credentials and try again.",s=(0,e.useCallback)(async d=>{if(d.preventDefault(),!a.trim()||!c.trim())return void m("User ID and Password are required.");o(!0),m("");try{let d=new FormData;d.append("username",a.trim()),d.append("password",c);let e=await (0,h.J)(d);if(e.success)q(e.data.access_token),b(""),k(""),p.replace("/dashboard");else{let a=r(null,e);m(a),o(!1)}}catch(a){console.error("Login error:",a),m(r(a)),o(!1)}},[a,c,q,p]);return(0,d.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-orange-100 via-orange-50 to-pink-100 flex items-center justify-center p-4 relative overflow-hidden",children:[(0,d.jsx)("div",{className:"absolute top-10 left-10 w-72 h-72 bg-gradient-to-r from-orange-200 to-orange-300 rounded-full opacity-20 blur-3xl animate-pulse"}),(0,d.jsx)("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-gradient-to-r from-pink-200 to-orange-200 rounded-full opacity-15 blur-3xl animate-pulse delay-1000"}),(0,d.jsx)("div",{className:"absolute top-1/2 left-1/4 w-64 h-64 bg-gradient-to-r from-yellow-200 to-orange-300 rounded-full opacity-10 blur-2xl"}),(0,d.jsx)("div",{className:"w-full max-w-7xl bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl overflow-hidden relative z-10 border border-white/20",children:(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row min-h-[600px]",children:[(0,d.jsxs)("div",{className:"lg:hidden bg-gradient-to-r from-orange-500 via-orange-600 to-red-500 p-6 text-white relative overflow-hidden",children:[(0,d.jsx)("div",{className:"absolute top-4 right-4 w-16 h-16 bg-orange-400 rounded-full opacity-20"}),(0,d.jsx)("div",{className:"absolute bottom-4 left-4 w-12 h-12 bg-orange-300 rounded-full opacity-30"}),(0,d.jsx)("div",{className:"absolute top-6 left-1/2 w-8 h-8 bg-white rounded-lg opacity-10 rotate-45"}),(0,d.jsxs)("div",{className:"relative z-10 text-center",children:[(0,d.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Welcome Back!"}),(0,d.jsx)("p",{className:"text-orange-100 text-sm sm:text-base",children:"To Keep Connected With Us Please Login"})]})]}),(0,d.jsxs)("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-orange-500 via-orange-600 to-red-500 p-8 lg:p-12 text-white relative overflow-hidden",children:[(0,d.jsx)("div",{className:"absolute top-20 right-10 w-32 h-32 bg-orange-400 rounded-full opacity-20"}),(0,d.jsx)("div",{className:"absolute bottom-20 left-10 w-24 h-24 bg-orange-300 rounded-full opacity-30"}),(0,d.jsx)("div",{className:"absolute top-40 left-20 w-16 h-16 bg-white rounded-lg opacity-10 rotate-45"}),(0,d.jsx)("div",{className:"absolute top-10 left-1/2 w-20 h-20 bg-gradient-to-r from-yellow-300 to-orange-300 rounded-full opacity-20"}),(0,d.jsx)("div",{className:"relative z-10 flex items-center",children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("h2",{className:"text-4xl lg:text-5xl font-bold leading-tight",children:"Welcome Back!"}),(0,d.jsx)("p",{className:"text-orange-100 text-lg",children:"To Keep Connected With Us Please Login With Your Personal Info"})]})})]}),(0,d.jsx)("div",{className:"flex-1 lg:w-1/2 p-6 sm:p-8 lg:p-12 bg-white/80 backdrop-blur-sm",children:(0,d.jsxs)("div",{className:"max-w-md mx-auto h-full flex flex-col justify-center",children:[(0,d.jsxs)("div",{className:"text-center mb-6 lg:mb-8",children:[(0,d.jsx)("h3",{className:"text-2xl lg:text-3xl font-bold text-gray-800 mb-2",children:"Sign In"}),(0,d.jsx)("p",{className:"text-gray-600 text-sm lg:text-base",children:"Enter your credentials to access your account"})]}),(0,d.jsxs)("form",{onSubmit:s,className:"space-y-5 lg:space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"User ID"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:(0,d.jsx)(i,{})}),(0,d.jsx)("input",{type:"text",id:"username",name:"username",value:a,onChange:a=>b(a.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-white hover:bg-gray-50 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors ${l?"border-red-300":"border-gray-300"}`,placeholder:"Enter your mobile number",required:!0,disabled:n,autoComplete:"username"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:(0,d.jsx)(j,{})}),(0,d.jsx)("input",{type:"password",id:"password",name:"password",value:c,onChange:a=>k(a.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-white hover:bg-gray-50 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors ${l?"border-red-300":"border-gray-300"}`,placeholder:"Enter your password",required:!0,disabled:n,autoComplete:"current-password"})]}),l&&(0,d.jsxs)("p",{className:"text-red-600 text-sm mt-2 flex items-start",children:[(0,d.jsx)("svg",{className:"h-4 w-4 mr-1.5 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,d.jsx)("span",{className:"leading-tight",children:l})]})]}),(0,d.jsx)("div",{className:"flex justify-end",children:(0,d.jsx)("button",{type:"button",onClick:()=>{console.log("Forgot password clicked")},className:"text-orange-600 hover:text-orange-700 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:n,children:"Forgot Password?"})}),(0,d.jsx)("button",{type:"submit",disabled:n||!a.trim()||!c.trim(),className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-semibold py-3 px-6 rounded-lg focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:n?(0,d.jsxs)("div",{className:"flex items-center justify-center",children:[(0,d.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In"})]}),(0,d.jsx)("div",{className:"mt-6 lg:mt-8 text-center",children:(0,d.jsxs)("p",{className:"text-gray-600 text-sm lg:text-base",children:["Do not have an account?"," ",(0,d.jsx)("button",{className:"text-orange-600 hover:text-orange-700 font-medium transition-colors",children:"Sign up here"})]})})]})})]})})]})})},61135:()=>{},70440:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(31658);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},79730:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,25227,23)),Promise.resolve().then(c.t.bind(c,86346,23)),Promise.resolve().then(c.t.bind(c,27924,23)),Promise.resolve().then(c.t.bind(c,40099,23)),Promise.resolve().then(c.t.bind(c,38243,23)),Promise.resolve().then(c.t.bind(c,28827,23)),Promise.resolve().then(c.t.bind(c,62763,23)),Promise.resolve().then(c.t.bind(c,97173,23)),Promise.resolve().then(c.bind(c,25587))},85253:(a,b,c)=>{"use strict";c.d(b,{r:()=>f,J:()=>e});var d=c(17327);let e=async a=>{try{let b=(a=>{let b={};return a.forEach((a,c)=>{b[c]=a}),b})(a),c=btoa(JSON.stringify(b)),e=await d.A.post("/api/auth/login",{data:c},{headers:{"Content-Type":"application/json"}});return{success:!0,data:e.data}}catch(a){return{success:!1,message:a.response?.data?.detail||"Error signing in."}}},f=async()=>{let a=null;if(!a)return{success:!0,message:"Already logged out"};try{let b=await d.A.post("/api/auth/logout",{},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},timeout:1e3});return{success:!0,message:"Logged out successfully",data:b.data}}catch(a){return{success:!0,message:"Logged out successfully"}}}},90306:(a,b,c)=>{Promise.resolve().then(c.bind(c,12554)),Promise.resolve().then(c.bind(c,27721))},94431:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>k});var d=c(37413),e=c(22376),f=c.n(e),g=c(68726),h=c.n(g);c(61135);var i=c(27721),j=c(12554);function k({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:`${f().variable} ${h().variable} antialiased`,children:(0,d.jsx)(j.AuthProvider,{children:(0,d.jsx)(i.ThemeProvider,{children:a})})})})}}};