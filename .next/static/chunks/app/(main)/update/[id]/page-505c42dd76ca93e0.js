(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[553],{9540:(e,t,s)=>{Promise.resolve().then(s.bind(s,97063))},84105:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(59576);let a=()=>{let{user:e,loading:t,isAuthenticated:s,login:a,logout:l}=(0,r.A)();return{user:e,loading:t,isAuthenticated:s,login:a,logout:l}}},97063:(e,t,s)=>{"use strict";s.d(t,{default:()=>f});var r=s(95155),a=s(62278),l=s(12115),n=s(1465),i=s(63540),o=s(57970),d=s(89069),c=s(10202),u=s(34326),h=s(53422),m=s(50080),x=s(7577),p=s(85535),g=s(35695),v=s(84105);let f=(0,a.A)(function(){let{user:e}=(0,v.A)(),t=(0,g.useRouter)();console.log("============sujit============="),console.log(e),console.log("============sujit=============");let{id:s}=(0,g.useParams)()||{},{refreshCounts:a}=(0,h.tL)(),[f,b]=(0,l.useState)(""),[j,y]=(0,l.useState)(!1),w=(0,l.useRef)(null),[N,k]=(0,l.useState)(new Set),[C,L]=(0,l.useState)(!0),S=(0,l.useRef)(!1),[M,H]=(0,l.useState)(""),[A,E]=(0,l.useState)(""),[U,z]=(0,l.useState)([]),[R,B]=(0,l.useState)(!0),[T,_]=(0,l.useState)(null),[W,O]=(0,l.useState)([]),[P,V]=(0,l.useState)(!0),[D,I]=(0,l.useState)(null),[F,q]=(0,l.useState)([]),[K,X]=(0,l.useState)(0),[G,J]=(0,l.useState)(0),[Q,Z]=(0,l.useState)(""),[Y,$]=(0,l.useState)([]);(0,l.useEffect)(()=>{y(!0);let e=()=>{S.current||ee()};return document.addEventListener("selectionchange",e),()=>{document.removeEventListener("selectionchange",e)}},[]),(0,l.useEffect)(()=>{if(w.current&&f){var e;w.current.innerHTML=f,L((null==(e=w.current.textContent)?void 0:e.trim().length)===0)}},[]),(0,l.useEffect)(()=>{let e=async()=>{try{B(!0);let e=await (0,n.l)();if(e.success&&e.data&&Array.isArray(e.data)){let t=e.data.map(e=>({value:e.id.toString(),label:e.priority}));z(t)}else console.error("Invalid priorities response structure:",e)}catch(e){console.error("Error fetching priorities:",e)}finally{B(!1)}},t=async()=>{try{V(!0);let e=await (0,i.V)();if(e.success&&e.data&&Array.isArray(e.data)){let t=e.data.filter(e=>e.location&&"string"==typeof e.location).map(e=>({id:e.id.toString(),name:e.location.trim()}));O(t)}else console.error("Invalid locations response structure:",e)}catch(e){console.error("Error fetching locations:",e)}finally{V(!1)}},r=async()=>{try{V(!0);let e=await (0,o.v)();if(e.success&&e.data&&Array.isArray(e.data)){let t=e.data.filter(e=>e.content_type&&"string"==typeof e.content_type).map(e=>({id:e.id.toString(),content_type:e.content_type.trim()}));$(t)}else console.error("Invalid locations response structure:",e)}catch(e){console.error("Error fetching locations:",e)}finally{V(!1)}},a=async()=>{try{let e=await (0,c.QL)(s);H(e.data.priority),Z(e.data.content_type),E(e.data.headline),_({id:"3",name:e.data.location}),b(e.data.description),I(e.data.tags[0]),X(e.data.status),eo(e.data.attachments),J(e.data.created_by),w.current&&(w.current.innerHTML=e.data.description||"")}catch(e){console.error("Error fetching priorities:",e)}};(async()=>{try{let e=await (0,d.Q)();if(e.success&&e.data&&Array.isArray(e.data)){let t=e.data.filter(e=>e.name&&"string"==typeof e.name).map(e=>({id:e.id.toString(),name:e.name.trim()}));q(t)}else console.error("Invalid tags response structure:",e)}catch(e){console.error("Error fetching tags:",e)}})(),e(),t(),r(),a()},[]);let ee=()=>{let e=new Set,t=window.getSelection();if(t&&t.rangeCount>0&&w.current){let l=t.anchorNode;for(;l&&l!==w.current;){if(l.nodeType===Node.ELEMENT_NODE){var s,r,a;let t=null==(s=l.tagName)?void 0:s.toLowerCase();if("ul"===t)e.add("ul");else if("ol"===t)e.add("ol");else if("li"===t){let t=null==(a=l.parentElement)||null==(r=a.tagName)?void 0:r.toLowerCase();"ul"===t&&e.add("ul"),"ol"===t&&e.add("ol")}}l=l.parentNode}try{document.queryCommandState("bold")&&e.add("bold"),document.queryCommandState("italic")&&e.add("italic"),document.queryCommandState("underline")&&e.add("underline")}catch(e){}}k(e)},et=(e,t)=>{if(!w.current)return;S.current=!0;let s=(()=>{let e=window.getSelection();if(e&&e.rangeCount>0&&w.current){let t=e.getRangeAt(0),s=t.cloneRange();return s.selectNodeContents(w.current),s.setEnd(t.endContainer,t.endOffset),s.toString().length}return 0})();w.current.focus(),document.execCommand(e,!1,t),setTimeout(()=>{if(w.current){let e=w.current.innerHTML,t=w.current.textContent||"";b(e),L(0===t.trim().length),(e=>{let t;if(!w.current)return;let s=window.getSelection();if(!s)return;let r=0,a=document.createTreeWalker(w.current,NodeFilter.SHOW_TEXT,null);for(;t=a.nextNode();){var l;let a=r+((null==(l=t.textContent)?void 0:l.length)||0);if(e<=a){let a=document.createRange();a.setStart(t,e-r),a.collapse(!0),s.removeAllRanges(),s.addRange(a);return}r=a}let n=document.createRange();n.selectNodeContents(w.current),n.collapse(!1),s.removeAllRanges(),s.addRange(n)})(s),ee(),S.current=!1}},0)},[es,er]=(0,l.useState)(null),ea=M&&Q&&(null==T?void 0:T.name)&&A&&f,el=async r=>{er(r);let l=ed.filter(e=>e.uploadedUrl).map(e=>({url:e.uploadedUrl})),n=K;console.log(r),(null==e?void 0:e.role_name)==="ROLE_STRINGER"&&(7==K||11==K)&&(n=2),"submit"==r&&(n=2);try{let e={priority:M,content_type:Q,location:(null==T?void 0:T.name)||"",tags:(null==D?void 0:D.name)||"",headline:A,description:f,attachments:l,status:n};(await (0,c.le)(e,s)).success&&(await a(),(0,p.S7)("Success","Update successfully!","success"),t.push("/list/input/waitList"))}catch(e){console.error((null==e?void 0:e.message)||"Submit failed.")}finally{er(null)}},en=e=>{let{onClick:t,active:s=!1,title:a,children:l}=e;return(0,r.jsx)("button",{onClick:t,className:"p-2 rounded-md text-sm font-medium transition-all duration-200 ".concat(s?"bg-blue-100 text-blue-700 shadow-sm":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),title:a,onMouseDown:e=>e.preventDefault(),children:l})},[ei,eo]=(0,l.useState)([]),[ed,ec]=(0,l.useState)([]),eu=(0,l.useRef)(null),eh=async e=>{let t=ed[e];if(t.uploadedUrl&&t.s3Key)try{await fetch("/api/delete-from-s3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:t.s3Key})})}catch(e){console.error("Error deleting from S3:",e)}URL.revokeObjectURL(t.previewUrl),ec(t=>t.filter((t,s)=>s!==e))},em=async()=>{let e=[...ed];for(let t=0;t<e.length;t++){let s=e[t];if(!s.uploadedUrl)try{let e=await (0,u.Z)(s.file.name,s.file.type),r=new FormData;Object.entries(e.fields).forEach(e=>{let[t,s]=e;r.append(t,s)}),r.append("file",s.file),await new Promise((s,a)=>{let l=new XMLHttpRequest;l.open("POST",e.url),l.upload.onprogress=e=>{if(e.lengthComputable){let s=e.loaded/e.total*100;ec(e=>e.map((e,r)=>r===t?{...e,progress:s}:e))}},l.onload=()=>{if(204===l.status){let r="".concat(e.fields.key);ec(e=>e.map((e,s)=>s===t?{...e,uploadedUrl:r,s3Key:r}:e)),s()}else a("Upload failed")},l.onerror=()=>a("XHR Error"),l.send(r)})}catch(e){console.error("Upload failed for ".concat(s.file.name),e)}}};return j?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"sticky top-0 z-20 bg-gray-50 p-4 flex-shrink-0",children:(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Update Story"})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{onClick:()=>{H(""),Z(""),E(""),_(null),b(""),I(null),ec([]),w.current&&(w.current.innerHTML=""),L(!0),t.push("/list/input/waitList")},className:"px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>el("save"),disabled:!ea||null!==es,className:"px-4 py-2 text-sm font-medium text-white rounded-md transition-colors flex items-center justify-center gap-2 ".concat(ea&&!es?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"),children:"save"===es?(0,r.jsxs)("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}):"Update Story"}),G==(null==e?void 0:e.user_id)&&1==K&&(0,r.jsx)("button",{onClick:()=>el("submit"),disabled:!ea||null!==es,className:"px-4 py-2 text-sm font-medium text-white rounded-md transition-colors flex items-center justify-center gap-2 ".concat(ea&&!es?"bg-green-600 hover:bg-green-700":"bg-green-400 cursor-not-allowed"),children:"submit"===es?(0,r.jsxs)("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}):"Submit Story"})]})]})})})}),(0,r.jsx)("div",{className:"flex-1 py-2 px-4 overflow-auto",children:(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Priority",(0,r.jsx)("sup",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("select",{value:M,onChange:e=>H(e.target.value),disabled:R,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-sm disabled:bg-gray-100",children:[(0,r.jsx)("option",{value:"",children:R?"Loading priorities...":"Select Priority"}),U.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]}),R&&(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Loading priority options..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Content Type",(0,r.jsx)("sup",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("select",{value:Q,onChange:e=>Z(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-sm",children:[(0,r.jsx)("option",{value:"",children:"Select Content Type"}),Y.map(e=>(0,r.jsx)("option",{value:e.id,children:e.content_type},e.id))]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(x.A,{selectedLocation:T,onLocationChange:_,availableLocations:W,isLoading:P,placeholder:"Search or add location..."}),(0,r.jsx)(m.A,{selectedTag:D,onTagChange:I,availableTags:F,placeholder:"Choose a tag..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title",(0,r.jsx)("sup",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",value:A,onChange:e=>E(e.target.value),placeholder:"Enter story title",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})]}),(0,r.jsx)("div",{className:"p-3 border-b border-gray-200 bg-gray-50",children:(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(en,{onClick:()=>et("bold"),active:N.has("bold"),title:"Bold (Ctrl+B)",children:(0,r.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 4h8a4 4 0 014 4 4 4 0 01-4 4H6z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 12h9a4 4 0 014 4 4 4 0 01-4 4H6z"})]})}),(0,r.jsx)(en,{onClick:()=>et("italic"),active:N.has("italic"),title:"Italic (Ctrl+I)",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 4v16m4-16v16"})})}),(0,r.jsx)(en,{onClick:()=>et("underline"),active:N.has("underline"),title:"Underline (Ctrl+U)",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 4v8a4 4 0 108 0V4M4 20h16"})})})]}),(0,r.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-1"}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(en,{onClick:()=>et("insertUnorderedList"),active:N.has("ul"),title:"Bullet List",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})}),(0,r.jsx)(en,{onClick:()=>et("insertOrderedList"),active:N.has("ol"),title:"Numbered List",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V6H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"})})})]}),(0,r.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-1"}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(en,{onClick:()=>et("formatBlock","h1"),title:"Heading 1",children:(0,r.jsx)("span",{className:"text-xs font-bold",children:"H1"})}),(0,r.jsx)(en,{onClick:()=>et("formatBlock","h2"),title:"Heading 2",children:(0,r.jsx)("span",{className:"text-xs font-bold",children:"H2"})}),(0,r.jsx)(en,{onClick:()=>et("formatBlock","h3"),title:"Heading 3",children:(0,r.jsx)("span",{className:"text-xs font-bold",children:"H3"})}),(0,r.jsx)(en,{onClick:()=>et("formatBlock","p"),title:"Paragraph",children:(0,r.jsx)("span",{className:"text-xs",children:"P"})})]}),(0,r.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-1"}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(en,{onClick:()=>et("undo"),title:"Undo (Ctrl+Z)",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})}),(0,r.jsx)(en,{onClick:()=>et("redo"),title:"Redo (Ctrl+Y)",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 10h-10a8 8 0 00-8 8v2m18-10l-6 6m6-6l-6-6"})})})]})]})}),(0,r.jsxs)("div",{className:"p-6 relative",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Story Content",(0,r.jsx)("sup",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("div",{ref:w,contentEditable:!0,onInput:()=>{if(w.current){let e=w.current.innerHTML,t=w.current.textContent||"";b(e),L(0===t.trim().length)}},onKeyUp:ee,onClick:ee,suppressContentEditableWarning:!0,className:"min-h-[200px] p-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{fontSize:"14px",lineHeight:"1.6",fontFamily:"system-ui, -apple-system, sans-serif"}})]}),(0,r.jsxs)("div",{className:"p-6 border-t border-gray-200",children:[(0,r.jsxs)("div",{className:"mb-5.5",children:[(0,r.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Attachment"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2",children:[(0,r.jsxs)("div",{onClick:()=>{var e;return null==(e=eu.current)?void 0:e.click()},className:"relative block w-full cursor-pointer appearance-none rounded border border-dashed border-orange-400 bg-gray px-4 py-4 dark:bg-meta-4 sm:py-7.5",children:[(0,r.jsx)("input",{type:"file",multiple:!0,accept:"audio/*,image/*,video/*,.pdf,.doc,.docx,.xls,.xlsx,.txt",className:"absolute inset-0 z-50 h-full w-full opacity-0",onChange:e=>{let t=Array.from(e.target.files||[]);ec(e=>{let s=new Set(e.map(e=>e.file.name));return[...e,...t.filter(e=>!s.has(e.name)).map(e=>({file:e,previewUrl:URL.createObjectURL(e),progress:0}))]})}}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3",children:[(0,r.jsx)("span",{className:"flex h-10 w-10 items-center justify-center rounded-full border border-stroke bg-white dark:border-strokedark dark:bg-boxdark",children:"\uD83D\uDCC1"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"text-primary",children:"Click to upload"})," or drag and drop"]}),(0,r.jsx)("p",{className:"mt-1.5",children:"JPG, PNG, MP4, PDF, DOCX"}),(0,r.jsx)("p",{children:"(Multiple files allowed)"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-4 overflow-y-auto max-h-96",children:[(0,r.jsxs)("div",{className:"max-h-54 overflow-y-auto pr-2 space-y-4",children:[ei.map((e,t)=>(0,r.jsxs)("div",{className:"relative flex items-center gap-4",children:[(null==e?void 0:e.mime.startsWith("image"))?(0,r.jsx)("div",{className:"relative h-16 w-16 rounded border border-gray-300 overflow-hidden",children:(0,r.jsx)("img",{src:"".concat("https://spassets.odishatv.in","/").concat(e.path),alt:"preview",className:"h-16 w-16 rounded object-cover border border-gray-300"})}):e.mime.startsWith("video")?(0,r.jsx)("video",{src:"".concat("https://spassets.odishatv.in","/").concat(e.path),className:"h-16 w-16 rounded border border-gray-300",muted:!0,loop:!0}):e.mime.startsWith("audio")?(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-file-earmark-music-fill h-12 w-12 ",viewBox:"0 0 16 16",children:(0,r.jsx)("path",{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0M9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1M11 6.64v1.75l-2 .5v3.61c0 .495-.301.883-.662 1.123C7.974 13.866 7.499 14 7 14s-.974-.134-1.338-.377C5.302 13.383 5 12.995 5 12.5s.301-.883.662-1.123C6.026 11.134 6.501 11 7 11c.356 0 .7.068 1 .196V6.89a1 1 0 0 1 .757-.97l1-.25A1 1 0 0 1 11 6.64"})}):(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-file-text h-12 w-12 ",viewBox:"0 0 16 16",children:[(0,r.jsx)("path",{d:"M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5M5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1z"}),(0,r.jsx)("path",{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1"})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium truncate",children:e.path}),(0,r.jsx)("a",{href:"".concat("https://spassets.odishatv.in","/").concat(e.path),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-green-600",children:"View uploaded file"})]})]},t)),ed.map((e,t)=>(0,r.jsxs)("div",{className:"relative flex items-center gap-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>eh(t),className:"absolute -right-2 -top-1 z-10 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-primary text-xs hover:bg-red-600",title:"Remove",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-x-circle-fill",viewBox:"0 0 16 16",children:(0,r.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"})})}),e.file.type.startsWith("image")?(0,r.jsx)("img",{src:e.previewUrl,alt:"preview",className:"h-16 w-16 rounded object-cover border border-gray-300"}):e.file.type.startsWith("video")?(0,r.jsx)("video",{src:e.previewUrl,className:"h-16 w-16 rounded border border-gray-300",muted:!0,loop:!0}):e.file.type.startsWith("audio")?(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-file-earmark-music-fill h-12 w-12 ",viewBox:"0 0 16 16",children:(0,r.jsx)("path",{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0M9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1M11 6.64v1.75l-2 .5v3.61c0 .495-.301.883-.662 1.123C7.974 13.866 7.499 14 7 14s-.974-.134-1.338-.377C5.302 13.383 5 12.995 5 12.5s.301-.883.662-1.123C6.026 11.134 6.501 11 7 11c.356 0 .7.068 1 .196V6.89a1 1 0 0 1 .757-.97l1-.25A1 1 0 0 1 11 6.64"})}):(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-file-text h-12 w-12 ",viewBox:"0 0 16 16",children:[(0,r.jsx)("path",{d:"M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5M5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1z"}),(0,r.jsx)("path",{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1"})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium truncate",children:e.file.name}),(0,r.jsx)("progress",{value:e.progress,max:100,className:"w-full h-2 rounded [&::-webkit-progress-value]:bg-primary"}),e.uploadedUrl&&(0,r.jsx)("a",{href:e.uploadedUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-green-600",children:"View uploaded file"})]})]},t))]}),(0,r.jsxs)("button",{type:"button",onClick:em,disabled:0===ed.length,className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md cursor-pointer hover:bg-blue-700 transition-colors text-sm font-medium disabled:opacity-50",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Upload Files"]})]})]})]}),(0,r.jsx)("div",{className:"pb-20"})]})]})})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,r.jsx)("div",{className:"sticky top-0 z-20 bg-gray-50 shadow-sm",children:(0,r.jsx)("div",{className:"px-4 py-4",children:(0,r.jsx)("div",{className:"rounded-lg shadow-sm",children:(0,r.jsxs)("div",{className:"animate-pulse p-6",children:[(0,r.jsx)("div",{className:"h-6 bg-gray-200 rounded w-32 mb-4"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("div",{className:"h-10 bg-gray-200 rounded w-32"}),(0,r.jsx)("div",{className:"h-10 bg-gray-200 rounded w-32"})]}),(0,r.jsx)("div",{className:"h-20 bg-gray-200 rounded"})]})]})})})}),(0,r.jsx)("div",{className:"px-4 py-6",children:(0,r.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-20 bg-gray-200 rounded mb-6"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,r.jsx)("div",{className:"h-20 bg-gray-200 rounded"})]})]})})})]})})}},e=>{e.O(0,[578,320,586,376,441,964,358],()=>e(e.s=9540)),_N_E=e.O()}]);