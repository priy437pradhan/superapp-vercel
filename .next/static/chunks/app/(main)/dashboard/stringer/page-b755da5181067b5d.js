(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[807],{1465:(e,t,a)=>{"use strict";a.d(t,{l:()=>r});var s=a(59921);let r=async()=>{try{let e=await s.A.get("/api/priority/",{headers:{"Content-Type":"application/json"}});return{success:!0,data:e.data}}catch(s){var e,t,a,r;return{success:!1,message:(null==(t=s.response)||null==(e=t.data)?void 0:e.detail)||(null==(r=s.response)||null==(a=r.data)?void 0:a.message)||"Error fetching priorities."}}}},18745:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(95155);a(12115);var r=a(66474);let n=(0,a(19946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),l=e=>{var t;let{label:a,selectedItems:l,options:o,onToggleItem:i,onSelectAll:c,onClearAll:d,dropdownKey:u,openDropdown:m,setOpenDropdown:p,idKey:x="id",displayKey:h="name",isLoading:g=!1,className:y=""}=e;return(0,s.jsxs)("div",{className:"relative dropdown-container ".concat(y),children:[(0,s.jsxs)("button",{onClick:e=>{e.stopPropagation(),p(m===u?null:u)},className:"flex items-center justify-between space-x-2 px-3 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 text-sm font-medium text-gray-700 min-w-[140px] transition-colors",disabled:g,children:[(0,s.jsx)("span",{className:"truncate",children:g?"Loading...":(null==l?void 0:l.length)===0?a:(null==l?void 0:l.length)===1?(null==(t=o.find(e=>e[x]===l[0]))?void 0:t[h])||"":"".concat(null==l?void 0:l.length," selected")}),(0,s.jsx)(r.A,{size:16,className:"transition-transform duration-200 ".concat(m===u?"rotate-180":"")})]}),m===u&&!g&&(0,s.jsxs)("div",{className:"absolute z-30 mt-1 w-64 bg-white border border-gray-300 rounded-md shadow-lg max-h-80 overflow-y-auto",children:[(0,s.jsx)("div",{className:"p-2 border-b border-gray-200 bg-gray-50",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),c()},className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Select All"}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),d()},className:"text-xs text-gray-600 hover:text-gray-800 font-medium",children:"Clear All"})]})}),o.map(e=>(0,s.jsxs)("div",{onClick:t=>{t.stopPropagation(),i(e[x])},className:"flex items-center px-3 py-2 text-sm hover:bg-gray-100 cursor-pointer transition-colors ".concat(l.includes(e[x])?"bg-blue-50":""),children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-4 h-4 mr-3",children:l.includes(e[x])&&(0,s.jsx)(n,{size:14,className:"text-blue-600"})}),(0,s.jsx)("span",{className:"flex-1 ".concat(l.includes(e[x])?"text-blue-700 font-medium":"text-gray-700"),children:e[h]})]},e[x])),0===o.length&&(0,s.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:"No options available"})]})]})}},19946:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var s=a(12115);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:t,...l,width:r,height:r,stroke:a,strokeWidth:i?24*Number(o)/Number(r):o,className:n("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let a=(0,s.forwardRef)((a,l)=>{let{className:i,...c}=a;return(0,s.createElement)(o,{ref:l,iconNode:t,className:n("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...c})});return a.displayName=r(e),a}},57434:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},59576:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,AuthProvider:()=>i});var s=a(95155),r=a(12115),n=a(35695),l=a(29159);let o=(0,r.createContext)(void 0),i=e=>{let{children:t}=e,[a,i]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0),u=(0,n.useRouter)();return(0,r.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("tokenExpiration");if(e&&t)if(new Date().getTime()<parseInt(t))try{let t=(0,l.s)(e);i({user_id:(null==t?void 0:t.user_id)||"0",email:(null==t?void 0:t.email)||"",name:(null==t?void 0:t.name)||"",phone:(null==t?void 0:t.phone)||"",role_id:(null==t?void 0:t.role_id)||"",role_name:(null==t?void 0:t.role_name)||"",role_data:(null==t?void 0:t.role_data)||{}})}catch(e){console.error("Error decoding token:",e),localStorage.removeItem("token"),localStorage.removeItem("tokenExpiration")}else localStorage.removeItem("token"),localStorage.removeItem("tokenExpiration");d(!1)},[]),(0,s.jsx)(o.Provider,{value:{user:a,loading:c,isAuthenticated:!!a,login:e=>{try{let t=new Date().getTime()+288e5;localStorage.setItem("token",e),localStorage.setItem("tokenExpiration",t.toString());let a=(0,l.s)(e);i({user_id:(null==a?void 0:a.user_id)||"Guest",email:(null==a?void 0:a.email)||"",name:(null==a?void 0:a.name)||"",phone:(null==a?void 0:a.phone)||"",role_id:(null==a?void 0:a.role_id)||"",role_name:(null==a?void 0:a.role_name)||"",role_data:(null==a?void 0:a.role_data)||{}})}catch(e){console.error("Error during login:",e)}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("tokenExpiration"),i(null),u.replace("/login")}},children:t})},c=()=>{let e=(0,r.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},59921:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let s=a(23464).A.create({baseURL:"https://sppyapi.odishatv.in"});s.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});let r=s},62278:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(95155),r=a(12115),n=a(35695),l=a(59576);let o=e=>{let t=t=>{let a=(0,n.useRouter)(),{isAuthenticated:o,loading:i}=(0,l.A)();return((0,r.useEffect)(()=>{i||o||(a.replace("/login"),setTimeout(()=>{"/login"!==window.location.pathname&&(window.location.href="/login")},100))},[o,i,a]),i||!o)?null:(0,s.jsx)(e,{...t})};return t.displayName="withAuth(".concat(e.displayName||e.name,")"),t}},63540:(e,t,a)=>{"use strict";a.d(t,{V:()=>r,u:()=>n});var s=a(59921);let r=async()=>{try{let e=await s.A.get("/api/location/",{headers:{"Content-Type":"application/json"}});return{success:!0,data:e.data}}catch(s){var e,t,a,r;return{success:!1,message:(null==(t=s.response)||null==(e=t.data)?void 0:e.detail)||(null==(r=s.response)||null==(a=r.data)?void 0:a.message)||"Error fetching locations."}}},n=async e=>{try{let t=await s.A.post("/api/location/",e,{headers:{"Content-Type":"application/json"}});return{success:!0,data:t.data}}catch(e){var t,a,r,n;return{success:!1,message:(null==(a=e.response)||null==(t=a.data)?void 0:t.detail)||(null==(n=e.response)||null==(r=n.data)?void 0:r.message)||"Error fetching locations."}}}},66474:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},69074:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},82180:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var s=a(95155),r=a(62278),n=a(18745),l=a(1465),o=a(63540),i=a(87909),c=a(84744),d=a(12115),u=a(69074),m=a(66474),p=a(91788),x=a(57434);let h=(0,r.A)(()=>{let[e,t]=(0,d.useState)(""),[a,r]=(0,d.useState)(""),[h,g]=(0,d.useState)(""),[y,v]=(0,d.useState)(""),[f,w]=(0,d.useState)([]),[b,j]=(0,d.useState)([]),[N,A]=(0,d.useState)([]),[k,S]=(0,d.useState)(null),[_,C]=(0,d.useState)([]),[E,I]=(0,d.useState)([]),[L,D]=(0,d.useState)([]),[T,M]=(0,d.useState)(!0),[R,z]=(0,d.useState)(!0),[P,O]=(0,d.useState)(!0),[U,K]=(0,d.useState)(!0),[F,H]=(0,d.useState)([]),[V,Y]=(0,d.useState)(0),[q,B]=(0,d.useState)(1),[W]=(0,d.useState)(12),[Z,$]=(0,d.useState)(!0),G=async()=>{try{M(!0);let e=await (0,o.V)();if(e.success&&e.data&&Array.isArray(e.data)){let t=e.data.filter(e=>e.location&&"string"==typeof e.location).map(e=>({id:e.location.trim(),name:e.location.trim()}));C(t)}else console.error("Invalid locations response structure:",e),C([])}catch(e){console.error("Error fetching locations:",e),C([])}finally{M(!1)}},J=async()=>{try{z(!0);let e=await (0,l.l)();e.success&&e.data&&Array.isArray(e.data)?I(e.data):(console.error("Invalid priorities response structure:",e),I([]))}catch(e){console.error("Error fetching priorities:",e),I([])}finally{z(!1)}},Q=async()=>{try{O(!0);let e=await (0,c.wz)();e.success&&e.data&&Array.isArray(e.data)?D(e.data):(console.error("Invalid authors response structure:",e),D([]))}catch(e){console.error("Error fetching authors:",e),D([])}finally{O(!1)}},X=async()=>{try{K(!0);let e={status:2,appliedSearchTerm:a||void 0,selectedLocations:f.length>0?f:void 0,selectedPriorities:b.length>0?b.map(e=>e.toString()):void 0,selectedCreatedBy:N.length>0?N:void 0};!Z||h||y||a||0!==f.length||0!==b.length||0!==N.length?(e.page=q,e.limit=W,e.dateFrom=h||void 0,e.dateTo=y||void 0):e.fetchLatestMonth=!0;let t=await (0,i.m)(e);if(H(t.results),Y(t.total_records),Z&&!h&&!y){let{from:e,to:t}=(()=>{let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),e.getMonth()+1,0),s=e=>{let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(s)};return{from:s(t),to:s(a)}})();g(e),v(t),$(!1)}}catch(e){console.error("Error fetching activities:",e),H([]),Y(0)}finally{K(!1)}};(0,d.useEffect)(()=>{G(),J(),Q()},[]),(0,d.useEffect)(()=>{X()},[q,a,h,y,f,b,N]),(0,d.useEffect)(()=>{let e=e=>{e.target&&(e.target.closest(".dropdown-container")||S(null))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let ee=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return T||R||P?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-8 bg-gray-200 rounded w-64 mb-6"}),(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,s.jsx)("div",{className:"flex space-x-4 mb-6",children:[1,2,3,4,5].map(e=>(0,s.jsx)("div",{className:"h-10 bg-gray-200 rounded w-32"},e))}),(0,s.jsx)("div",{className:"space-y-4",children:[1,2,3,4,5].map(e=>(0,s.jsx)("div",{className:"h-16 bg-gray-200 rounded"},e))})]})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("div",{className:"sticky top-0 z-20 bg-gray-50 shadow-sm",children:(0,s.jsx)("div",{className:"p-4 sm:p-6",children:(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-3 sm:p-4",children:(0,s.jsx)("div",{className:"flex flex-col gap-4",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 sm:gap-3 justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[(0,s.jsx)(()=>(0,s.jsxs)("div",{className:"relative dropdown-container",children:[(0,s.jsxs)("button",{onClick:e=>{e.stopPropagation(),S("dateRange"===k?null:"dateRange")},className:"flex items-center justify-between space-x-2 px-3 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 text-sm font-medium text-gray-700 min-w-[140px] transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.A,{size:16}),(0,s.jsx)("span",{className:"truncate",children:h||y?"Custom Range":"Current Month"})]}),(0,s.jsx)(m.A,{size:16,className:"transition-transform duration-200 ".concat("dateRange"===k?"rotate-180":"")})]}),"dateRange"===k&&(0,s.jsx)("div",{className:"absolute z-30 mt-1 w-72 bg-white border border-gray-300 rounded-md shadow-lg p-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),(0,s.jsx)("input",{type:"date",value:h,onChange:e=>{g(e.target.value),$(!1)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),(0,s.jsx)("input",{type:"date",value:y,onChange:e=>{v(e.target.value),$(!1)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),(0,s.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,s.jsx)("button",{onClick:()=>{g(""),v(""),S(null),$(!0)},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Clear"}),(0,s.jsx)("button",{onClick:()=>S(null),className:"flex-1 px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Apply"})]})]})})]}),{}),(0,s.jsx)(n.A,{label:"Location",selectedItems:f,options:_,onToggleItem:e=>{w(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),$(!1)},onSelectAll:()=>{w(_.map(e=>e.id)),$(!1)},onClearAll:()=>{w([])},dropdownKey:"location",openDropdown:k,setOpenDropdown:S,idKey:"id",displayKey:"name",isLoading:T}),(0,s.jsx)(n.A,{label:"Priority",selectedItems:b,options:E,onToggleItem:e=>{j(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),$(!1)},onSelectAll:()=>{j(E.map(e=>e.id)),$(!1)},onClearAll:()=>{j([])},dropdownKey:"priority",openDropdown:k,setOpenDropdown:S,idKey:"id",displayKey:"priority",isLoading:R}),(0,s.jsx)(n.A,{label:"Stringer",selectedItems:N,options:L,onToggleItem:e=>{A(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),$(!1)},onSelectAll:()=>{A(L.map(e=>e.id)),$(!1)},onClearAll:()=>{A([])},dropdownKey:"author",openDropdown:k,setOpenDropdown:S,idKey:"id",displayKey:"name",isLoading:P})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>{r(e),B(1),$(!1)},className:"flex-1 sm:flex-none px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Apply"}),(0,s.jsxs)("button",{onClick:()=>{let e=new Blob([["S.No,Title,Stringer,Location,Priority,Date,Status,Reward",...F.map((e,t)=>[t+1,'"'.concat(e.headline,'"'),'"'.concat(e.created_name,'"'),'"'.concat(e.location,'"'),'"'.concat(e.priority_text,'"'),'"'.concat(ee(e.created_date),'"'),'"'.concat(e.status_text,'"'),'"'.concat(e.content_price,'"')].join(","))].join("\n")],{type:"text/csv"}),t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="dashboard_data.csv",a.click(),window.URL.revokeObjectURL(t)},className:"flex-1 sm:flex-none px-4 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[(0,s.jsx)(p.A,{size:16}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"CSV"}),(0,s.jsx)("span",{className:"sm:hidden",children:"Export"})]})]})]})})})})}),(0,s.jsx)("div",{className:"p-4 sm:p-6 pt-2 sm:pt-2",children:(0,s.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden",children:U?(0,s.jsx)("div",{className:"p-4 sm:p-8",children:(0,s.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,s.jsx)("div",{className:"h-10 bg-gray-200 rounded"}),[1,2,3,4,5].map(e=>(0,s.jsx)("div",{className:"h-16 bg-gray-200 rounded"},e))]})}):0===F.length?(0,s.jsxs)("div",{className:"text-center py-8 sm:py-12 px-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)(x.A,{className:"text-gray-400",size:20})}),(0,s.jsx)("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No data found"}),(0,s.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:"Try adjusting your filters or search terms"})]}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-3 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-16",children:"S.No"}),(0,s.jsx)("th",{className:"px-3 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Headline"}),(0,s.jsx)("th",{className:"px-3 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reward"}),(0,s.jsx)("th",{className:"px-3 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,s.jsx)("th",{className:"px-3 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),(0,s.jsx)("th",{className:"px-3 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),(0,s.jsx)("th",{className:"px-3 lg:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map((e,t)=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("td",{className:"px-3 lg:px-6 py-4 whitespace-nowrap text-center",children:(0,s.jsx)("div",{className:"text-sm font-semibold text-blue-600 bg-blue-50 rounded-full w-8 h-8 flex items-center justify-center mx-auto",children:(q-1)*W+t+1})}),(0,s.jsxs)("td",{className:"px-3 lg:px-6 py-4",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900 max-w-xs lg:max-w-sm xl:max-w-md line-clamp-3",children:e.headline}),(0,s.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:ee(e.created_date)})]}),(0,s.jsx)("td",{className:"px-3 lg:px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800 border border-purple-200",children:e.content_price})}),(0,s.jsx)("td",{className:"px-3 lg:px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.created_name})}),(0,s.jsx)("td",{className:"px-3 lg:px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.location})}),(0,s.jsx)("td",{className:"px-3 lg:px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((e=>{switch(null==e?void 0:e.toLowerCase()){case"high":return"text-orange-600 bg-orange-50";case"medium":return"text-yellow-600 bg-yellow-50";case"breaking":return"text-red-600 bg-red-50";case"low":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}})(e.priority_text)),children:e.priority_text})}),(0,s.jsx)("td",{className:"px-3 lg:px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.status_text})})]},e.id))})]})})})})]})}),g=(0,r.A)(function(){return(0,s.jsx)(h,{})})},84744:(e,t,a)=>{"use strict";a.d(t,{gw:()=>l,nu:()=>n,wz:()=>r});var s=a(59921);let r=async()=>{try{let e=await s.A.get("/api/user/",{headers:{"Content-Type":"application/json"}});return{success:!0,data:e.data}}catch(s){var e,t,a,r;return{success:!1,message:(null==(t=s.response)||null==(e=t.data)?void 0:e.detail)||(null==(r=s.response)||null==(a=r.data)?void 0:a.message)||"Error fetching roles."}}},n=async e=>{try{let t=await s.A.post("/api/auth/signup",e,{headers:{"Content-Type":"application/json"}});return{success:!0,data:t.data}}catch(e){var t,a,r,n;return{success:!1,message:(null==(a=e.response)||null==(t=a.data)?void 0:t.detail)||(null==(n=e.response)||null==(r=n.data)?void 0:r.message)||"Error adding role."}}},l=async e=>{try{let{id:t,...a}=e,r=await s.A.put("/api/user/".concat(t),a,{headers:{"Content-Type":"application/json"}});return{success:!0,data:r.data}}catch(e){var t,a,r,n;return{success:!1,message:(null==(a=e.response)||null==(t=a.data)?void 0:t.detail)||(null==(n=e.response)||null==(r=n.data)?void 0:r.message)||"Error updating role."}}}},87909:(e,t,a)=>{"use strict";a.d(t,{m:()=>r});var s=a(59921);let r=async e=>{try{let{page:t=1,limit:a=12,status:r,appliedSearchTerm:n,dateFrom:l,dateTo:o,selectedLocations:i,selectedPriorities:c,selectedCreatedBy:d,selectedContentTypes:u,fetchLatestMonth:m=!1}=e,p=["status=".concat(r)];if(m||p.push("limit=".concat(a),"offset=".concat((t-1)*a)),!m||l||o)l&&p.push("from_date=".concat(l)),o&&p.push("to_date=".concat(o));else{let{from:e,to:t}=(()=>{let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),e.getMonth()+1,0);return{from:t.toISOString().split("T")[0],to:a.toISOString().split("T")[0]}})();p.push("from_date=".concat(e),"to_date=".concat(t))}n&&p.push("headline=".concat(encodeURIComponent(n))),i&&i.length>0&&p.push("location=".concat(i.join(","))),c&&c.length>0&&p.push("priority=".concat(c.join(","))),d&&d.length>0&&p.push("created_by=".concat(d.join(","))),u&&u.length>0&&p.push("content_type=".concat(u.join(",")));let x=p.join("&");return console.log("API URL:","/api/content/?".concat(x)),(await s.A.get("/api/content/?".concat(x),{headers:{"Content-Type":"application/json"}})).data}catch(s){var t,a,r,n;let e=(null==(a=s.response)||null==(t=a.data)?void 0:t.detail)||(null==(n=s.response)||null==(r=n.data)?void 0:r.message)||s.message||"Failed to fetch data";throw console.error("Error fetching activities:",s),Error(e)}}},91788:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},95687:(e,t,a)=>{Promise.resolve().then(a.bind(a,82180))}},e=>{e.O(0,[586,441,964,358],()=>e(e.s=95687)),_N_E=e.O()}]);