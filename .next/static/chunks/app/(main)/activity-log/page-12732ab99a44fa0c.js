(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[118],{1465:(e,t,s)=>{"use strict";s.d(t,{l:()=>r});var a=s(59921);let r=async()=>{try{let e=await a.A.get("/api/priority/",{headers:{"Content-Type":"application/json"}});return{success:!0,data:e.data}}catch(a){var e,t,s,r;return{success:!1,message:(null==(t=a.response)||null==(e=t.data)?void 0:e.detail)||(null==(r=a.response)||null==(s=r.data)?void 0:s.message)||"Error fetching priorities."}}}},4516:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},18745:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(95155);s(12115);var r=s(66474);let l=(0,s(19946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),i=e=>{var t;let{label:s,selectedItems:i,options:n,onToggleItem:o,onSelectAll:d,onClearAll:c,dropdownKey:u,openDropdown:m,setOpenDropdown:x,idKey:p="id",displayKey:h="name",isLoading:g=!1,className:y=""}=e;return(0,a.jsxs)("div",{className:"relative dropdown-container ".concat(y),children:[(0,a.jsxs)("button",{onClick:e=>{e.stopPropagation(),x(m===u?null:u)},className:"flex items-center justify-between space-x-2 px-3 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 text-sm font-medium text-gray-700 min-w-[140px] transition-colors",disabled:g,children:[(0,a.jsx)("span",{className:"truncate",children:g?"Loading...":(null==i?void 0:i.length)===0?s:(null==i?void 0:i.length)===1?(null==(t=n.find(e=>e[p]===i[0]))?void 0:t[h])||"":"".concat(null==i?void 0:i.length," selected")}),(0,a.jsx)(r.A,{size:16,className:"transition-transform duration-200 ".concat(m===u?"rotate-180":"")})]}),m===u&&!g&&(0,a.jsxs)("div",{className:"absolute z-30 mt-1 w-64 bg-white border border-gray-300 rounded-md shadow-lg max-h-80 overflow-y-auto",children:[(0,a.jsx)("div",{className:"p-2 border-b border-gray-200 bg-gray-50",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),d()},className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Select All"}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),c()},className:"text-xs text-gray-600 hover:text-gray-800 font-medium",children:"Clear All"})]})}),n.map(e=>(0,a.jsxs)("div",{onClick:t=>{t.stopPropagation(),o(e[p])},className:"flex items-center px-3 py-2 text-sm hover:bg-gray-100 cursor-pointer transition-colors ".concat(i.includes(e[p])?"bg-blue-50":""),children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-4 h-4 mr-3",children:i.includes(e[p])&&(0,a.jsx)(l,{size:14,className:"text-blue-600"})}),(0,a.jsx)("span",{className:"flex-1 ".concat(i.includes(e[p])?"text-blue-700 font-medium":"text-gray-700"),children:e[h]})]},e[p])),0===n.length&&(0,a.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:"No options available"})]})]})}},19946:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(12115);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...i,width:r,height:r,stroke:s,strokeWidth:o?24*Number(n)/Number(r):n,className:l("lucide",d),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let s=(0,a.forwardRef)((s,i)=>{let{className:o,...d}=s;return(0,a.createElement)(n,{ref:i,iconNode:t,className:l("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...d})});return s.displayName=r(e),s}},26196:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(95155),r=s(12115),l=s(62278),i=s(18745),n=s(1465),o=s(63540),d=s(44940);let c=(0,s(19946).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var u=s(69074),m=s(66474),x=s(54416),p=s(47924),h=s(57434),g=s(71007),y=s(4516);let f=(0,l.A)(()=>{let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[f,v]=(0,r.useState)(""),[b,j]=(0,r.useState)(""),[N,w]=(0,r.useState)([]),[k,A]=(0,r.useState)([]),[S,C]=(0,r.useState)(null),[E,z]=(0,r.useState)([]),[L,I]=(0,r.useState)([]),[M,T]=(0,r.useState)(!0),[D,P]=(0,r.useState)(!0),[_,K]=(0,r.useState)([{id:"1",type:"edit",user:"You",action:"edited a story",storyTitle:"Sujit story title ver 2",status:"Input WIP",timestamp:"Aug 7, 2025, 4:38 PM",location:"Mumbai",priority:"High",link:"#"},{id:"2",type:"upload",user:"You",action:"uploaded a story",storyTitle:"asd",status:"Waiting in Input",timestamp:"Aug 7, 2025, 4:20 PM",location:"Delhi",priority:"Medium"},{id:"3",type:"upload",user:"Soumen",action:"uploaded a story",storyTitle:"Sujit story title:",status:"Waiting in Input",timestamp:"Aug 7, 2025, 4:15 PM",location:"Kolkata",priority:"Breaking",link:"#"},{id:"4",type:"edit",user:"Soumen",action:"edited a story",storyTitle:"test 19-12-2024",status:"Draft",timestamp:"Aug 7, 2025, 4:10 PM",location:"Chennai",priority:"Low",link:"#"}]),[R,H]=(0,r.useState)(!0),W=async()=>{try{T(!0);let e=await (0,o.V)();if(e.success&&e.data&&Array.isArray(e.data)){let t=e.data.filter(e=>e.location&&"string"==typeof e.location).map(e=>e.location.trim());z(t)}else console.error("Invalid locations response structure:",e)}catch(e){console.error("Error fetching locations:",e)}finally{T(!1)}},O=async()=>{try{P(!0);let e=await (0,n.l)();e.success&&e.data&&Array.isArray(e.data)&&I(e.data)}catch(e){console.error("Error fetching priorities:",e)}finally{P(!1)}};(0,r.useEffect)(()=>{W(),O()},[]),(0,r.useEffect)(()=>{let e=e=>{e.target&&(e.target.closest(".dropdown-container")||C(null))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,r.useEffect)(()=>{setTimeout(()=>H(!1),1e3)},[]);let q=()=>{l(e)},B=_.filter(e=>{let t=!s||e.storyTitle.toLowerCase().includes(s.toLowerCase())||e.user.toLowerCase().includes(s.toLowerCase()),a=!0;if(f||b){let t=(e=>new Date(e.split(",")[0]+", "+e.split(",")[1]))(e.timestamp);if(f){let e=new Date(f);a=a&&t>=e}if(b){let e=new Date(b);e.setHours(23,59,59,999),a=a&&t<=e}}let r=0===N.length||N.includes(e.location),l=0===k.length||k.includes(e.priority);return t&&a&&r&&l});return R||M||D?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-64 mb-6"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,a.jsx)("div",{className:"flex space-x-4 mb-6",children:[1,2,3,4].map(e=>(0,a.jsx)("div",{className:"h-10 bg-gray-200 rounded w-32"},e))}),(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3,4].map(e=>(0,a.jsx)("div",{className:"h-24 bg-gray-200 rounded"},e))})]})]})})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"sticky top-0 z-20 bg-gray-50 shadow-sm",children:(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"relative dropdown-container",children:[(0,a.jsxs)("button",{onClick:e=>{e.stopPropagation(),C("dateRange"===S?null:"dateRange")},className:"flex items-center justify-between space-x-2 px-3 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 text-sm font-medium text-gray-700 min-w-[140px] transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u.A,{size:16}),(0,a.jsx)("span",{className:"truncate",children:"Date"})]}),(0,a.jsx)(m.A,{size:16,className:"transition-transform duration-200 ".concat("dateRange"===S?"rotate-180":"")})]}),"dateRange"===S&&(0,a.jsx)("div",{className:"absolute z-30 mt-1 w-72 bg-white border border-gray-300 rounded-md shadow-lg p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),(0,a.jsx)("input",{type:"date",value:f,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),(0,a.jsx)("input",{type:"date",value:b,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),(0,a.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,a.jsx)("button",{onClick:()=>{v(""),j(""),C(null)},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Clear"}),(0,a.jsx)("button",{onClick:()=>C(null),className:"flex-1 px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Apply"})]})]})})]}),{}),(0,a.jsx)(i.A,{label:"Location",selectedItems:N,options:E,onToggleItem:e=>{w(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},onSelectAll:()=>{w(E.map(e=>e.id))},onClearAll:()=>{w([])},dropdownKey:"location",openDropdown:S,setOpenDropdown:C,idKey:"id",displayKey:"name",isLoading:M}),(0,a.jsx)(i.A,{label:"Priority",selectedItems:k,options:L,onToggleItem:e=>{A(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},onSelectAll:()=>{A(L.map(e=>e.id))},onClearAll:()=>{A([])},dropdownKey:"priority",openDropdown:S,setOpenDropdown:C,idKey:"id",displayKey:"priority",isLoading:D}),(s||f||b||N.length>0||k.length>0)&&(0,a.jsx)("button",{onClick:()=>{t(""),l(""),v(""),j(""),w([]),A([])},className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-2xl hover:bg-red-50 transition-colors bg-red-100",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{size:16}),(0,a.jsx)("span",{children:"Clear Filters"})]})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),(0,a.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),onKeyPress:e=>"Enter"===e.key&&q(),placeholder:"Search activities...",className:"pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm w-64 bg-white"})]}),(0,a.jsx)("button",{onClick:q,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Apply"})]})]})})})}),(0,a.jsx)("div",{className:"py-6",children:(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6",children:0===B.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,a.jsx)(h.A,{className:"text-gray-400",size:24})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No activities found"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Try adjusting your filters or search terms"})]}):(0,a.jsx)("div",{className:"space-y-6",children:B.map((e,t)=>(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex space-x-4",children:["edit"===e.type?(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(d.A,{size:14,className:"text-blue-600"})}):(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(c,{size:14,className:"text-green-600"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(g.A,{size:16,className:"text-gray-400"}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:e.user}),(0,a.jsx)("span",{className:"text-gray-600",children:e.action})]}),(0,a.jsx)("div",{className:"mb-3",children:e.link?(0,a.jsx)("a",{href:e.link,className:"text-blue-600 hover:text-blue-800 hover:underline font-semibold text-base block",children:e.storyTitle}):(0,a.jsx)("span",{className:"text-gray-900 font-semibold text-base block",children:e.storyTitle})}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[(0,a.jsx)(y.A,{size:14}),(0,a.jsx)("span",{className:"text-sm",children:e.location})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"priority"}),(0,a.jsx)("div",{className:"text-sm font-semibold ".concat((e=>{switch(e){case"High":return"text-orange-600";case"Medium":return"text-yellow-600";case"Breaking":return"text-red-600";case"Low":return"text-green-600";default:return"text-gray-600"}})(e.priority)),children:e.priority})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border",children:e.status}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,a.jsx)(u.A,{size:14,className:"mr-1"}),e.timestamp]})]})]})]}),t<B.length-1&&(0,a.jsx)("div",{className:"absolute left-4 top-12 w-0.5 h-8 bg-gray-200"})]},e.id))})})})]})}),v=(0,l.A)(()=>{let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[f,v]=(0,r.useState)(""),[b,j]=(0,r.useState)(""),[N,w]=(0,r.useState)([]),[k,A]=(0,r.useState)([]),[S,C]=(0,r.useState)(null),[E,z]=(0,r.useState)([]),[L,I]=(0,r.useState)([]),[M,T]=(0,r.useState)(!0),[D,P]=(0,r.useState)(!0),[_,K]=(0,r.useState)([{id:"1",type:"edit",user:"You",action:"edited a story",storyTitle:"Sujit story title ver 2",status:"Input WIP",timestamp:"Aug 7, 2025, 4:38 PM",location:"Mumbai",priority:"High",link:"#"},{id:"2",type:"upload",user:"You",action:"uploaded a story",storyTitle:"asd",status:"Waiting in Input",timestamp:"Aug 7, 2025, 4:20 PM",location:"Delhi",priority:"Medium"},{id:"3",type:"upload",user:"Soumen",action:"uploaded a story",storyTitle:"Sujit story title:",status:"Waiting in Input",timestamp:"Aug 7, 2025, 4:15 PM",location:"Kolkata",priority:"Breaking",link:"#"},{id:"4",type:"edit",user:"Soumen",action:"edited a story",storyTitle:"test 19-12-2024",status:"Draft",timestamp:"Aug 7, 2025, 4:10 PM",location:"Chennai",priority:"Low",link:"#"}]),[R,H]=(0,r.useState)(!0),W=async()=>{try{T(!0);let e=await (0,o.V)();if(e.success&&e.data&&Array.isArray(e.data)){let t=e.data.filter(e=>e.location&&"string"==typeof e.location).map(e=>e.location.trim());z(t)}else console.error("Invalid locations response structure:",e)}catch(e){console.error("Error fetching locations:",e)}finally{T(!1)}},O=async()=>{try{P(!0);let e=await (0,n.l)();e.success&&e.data&&Array.isArray(e.data)&&I(e.data)}catch(e){console.error("Error fetching priorities:",e)}finally{P(!1)}};(0,r.useEffect)(()=>{W(),O()},[]),(0,r.useEffect)(()=>{let e=e=>{e.target&&(e.target.closest(".dropdown-container")||C(null))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,r.useEffect)(()=>{setTimeout(()=>H(!1),1e3)},[]);let q=()=>{l(e)},B=_.filter(e=>{let t=!s||e.storyTitle.toLowerCase().includes(s.toLowerCase())||e.user.toLowerCase().includes(s.toLowerCase()),a=!0;if(f||b){let t=(e=>new Date(e.split(",")[0]+", "+e.split(",")[1]))(e.timestamp);if(f){let e=new Date(f);a=a&&t>=e}if(b){let e=new Date(b);e.setHours(23,59,59,999),a=a&&t<=e}}let r=0===N.length||N.includes(e.location),l=0===k.length||k.includes(e.priority);return t&&a&&r&&l});return R||M||D?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-64 mb-6"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,a.jsx)("div",{className:"flex space-x-4 mb-6",children:[1,2,3,4].map(e=>(0,a.jsx)("div",{className:"h-10 bg-gray-200 rounded w-32"},e))}),(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3,4].map(e=>(0,a.jsx)("div",{className:"h-24 bg-gray-200 rounded"},e))})]})]})})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"sticky top-0 z-20 bg-gray-50 shadow-sm",children:(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"relative dropdown-container",children:[(0,a.jsxs)("button",{onClick:e=>{e.stopPropagation(),C("dateRange"===S?null:"dateRange")},className:"flex items-center justify-between space-x-2 px-3 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 text-sm font-medium text-gray-700 min-w-[140px] transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u.A,{size:16}),(0,a.jsx)("span",{className:"truncate",children:"Date"})]}),(0,a.jsx)(m.A,{size:16,className:"transition-transform duration-200 ".concat("dateRange"===S?"rotate-180":"")})]}),"dateRange"===S&&(0,a.jsx)("div",{className:"absolute z-30 mt-1 w-72 bg-white border border-gray-300 rounded-md shadow-lg p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),(0,a.jsx)("input",{type:"date",value:f,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),(0,a.jsx)("input",{type:"date",value:b,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),(0,a.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,a.jsx)("button",{onClick:()=>{v(""),j(""),C(null)},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Clear"}),(0,a.jsx)("button",{onClick:()=>C(null),className:"flex-1 px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Apply"})]})]})})]}),{}),(0,a.jsx)(i.A,{label:"Location",selectedItems:N,options:E,onToggleItem:e=>{w(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},onSelectAll:()=>{w(E.map(e=>e.id))},onClearAll:()=>{w([])},dropdownKey:"location",openDropdown:S,setOpenDropdown:C,idKey:"id",displayKey:"name",isLoading:M}),(0,a.jsx)(i.A,{label:"Priority",selectedItems:k,options:L,onToggleItem:e=>{A(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},onSelectAll:()=>{A(L.map(e=>e.id))},onClearAll:()=>{A([])},dropdownKey:"priority",openDropdown:S,setOpenDropdown:C,idKey:"id",displayKey:"priority",isLoading:D}),(s||f||b||N.length>0||k.length>0)&&(0,a.jsx)("button",{onClick:()=>{t(""),l(""),v(""),j(""),w([]),A([])},className:"px-3 py-2 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded-2xl hover:bg-red-50 transition-colors bg-red-100",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{size:16}),(0,a.jsx)("span",{children:"Clear Filters"})]})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),(0,a.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),onKeyPress:e=>"Enter"===e.key&&q(),placeholder:"Search activities...",className:"pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm w-64 bg-white"})]}),(0,a.jsx)("button",{onClick:q,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Apply"})]})]})})})}),(0,a.jsx)("div",{className:"py-6",children:(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6",children:0===B.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,a.jsx)(h.A,{className:"text-gray-400",size:24})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No activities found"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Try adjusting your filters or search terms"})]}):(0,a.jsx)("div",{className:"space-y-6",children:B.map((e,t)=>(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex space-x-4",children:["edit"===e.type?(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(d.A,{size:14,className:"text-blue-600"})}):(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(c,{size:14,className:"text-green-600"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(g.A,{size:16,className:"text-gray-400"}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:e.user}),(0,a.jsx)("span",{className:"text-gray-600",children:e.action})]}),(0,a.jsx)("div",{className:"mb-3",children:e.link?(0,a.jsx)("a",{href:e.link,className:"text-blue-600 hover:text-blue-800 hover:underline font-semibold text-base block",children:e.storyTitle}):(0,a.jsx)("span",{className:"text-gray-900 font-semibold text-base block",children:e.storyTitle})}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[(0,a.jsx)(y.A,{size:14}),(0,a.jsx)("span",{className:"text-sm",children:e.location})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"priority"}),(0,a.jsx)("div",{className:"text-sm font-semibold ".concat((e=>{switch(e){case"High":return"text-orange-600";case"Medium":return"text-yellow-600";case"Breaking":return"text-red-600";case"Low":return"text-green-600";default:return"text-gray-600"}})(e.priority)),children:e.priority})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border",children:e.status}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,a.jsx)(u.A,{size:14,className:"mr-1"}),e.timestamp]})]})]})]}),t<B.length-1&&(0,a.jsx)("div",{className:"absolute left-4 top-12 w-0.5 h-8 bg-gray-200"})]},e.id))})})})]})});function b(){let e=function(){let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=()=>{t(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}();return(0,a.jsx)(e?v:f,{})}},44940:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},47924:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},54416:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},57434:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},59576:(e,t,s)=>{"use strict";s.d(t,{A:()=>d,AuthProvider:()=>o});var a=s(95155),r=s(12115),l=s(35695),i=s(29159);let n=(0,r.createContext)(void 0),o=e=>{let{children:t}=e,[s,o]=(0,r.useState)(null),[d,c]=(0,r.useState)(!0),u=(0,l.useRouter)();return(0,r.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("tokenExpiration");if(e&&t)if(new Date().getTime()<parseInt(t))try{let t=(0,i.s)(e);o({user_id:(null==t?void 0:t.user_id)||"0",email:(null==t?void 0:t.email)||"",name:(null==t?void 0:t.name)||"",phone:(null==t?void 0:t.phone)||"",role_id:(null==t?void 0:t.role_id)||"",role_name:(null==t?void 0:t.role_name)||"",role_data:(null==t?void 0:t.role_data)||{}})}catch(e){console.error("Error decoding token:",e),localStorage.removeItem("token"),localStorage.removeItem("tokenExpiration")}else localStorage.removeItem("token"),localStorage.removeItem("tokenExpiration");c(!1)},[]),(0,a.jsx)(n.Provider,{value:{user:s,loading:d,isAuthenticated:!!s,login:e=>{try{let t=new Date().getTime()+288e5;localStorage.setItem("token",e),localStorage.setItem("tokenExpiration",t.toString());let s=(0,i.s)(e);o({user_id:(null==s?void 0:s.user_id)||"Guest",email:(null==s?void 0:s.email)||"",name:(null==s?void 0:s.name)||"",phone:(null==s?void 0:s.phone)||"",role_id:(null==s?void 0:s.role_id)||"",role_name:(null==s?void 0:s.role_name)||"",role_data:(null==s?void 0:s.role_data)||{}})}catch(e){console.error("Error during login:",e)}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("tokenExpiration"),o(null),u.replace("/login")}},children:t})},d=()=>{let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},59921:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let a=s(23464).A.create({baseURL:"https://sppyapi.odishatv.in"});a.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});let r=a},62278:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(95155),r=s(12115),l=s(35695),i=s(59576);let n=e=>{let t=t=>{let s=(0,l.useRouter)(),{isAuthenticated:n,loading:o}=(0,i.A)();return((0,r.useEffect)(()=>{o||n||(s.replace("/login"),setTimeout(()=>{"/login"!==window.location.pathname&&(window.location.href="/login")},100))},[n,o,s]),o||!n)?null:(0,a.jsx)(e,{...t})};return t.displayName="withAuth(".concat(e.displayName||e.name,")"),t}},63540:(e,t,s)=>{"use strict";s.d(t,{V:()=>r,u:()=>l});var a=s(59921);let r=async()=>{try{let e=await a.A.get("/api/location/",{headers:{"Content-Type":"application/json"}});return{success:!0,data:e.data}}catch(a){var e,t,s,r;return{success:!1,message:(null==(t=a.response)||null==(e=t.data)?void 0:e.detail)||(null==(r=a.response)||null==(s=r.data)?void 0:s.message)||"Error fetching locations."}}},l=async e=>{try{let t=await a.A.post("/api/location/",e,{headers:{"Content-Type":"application/json"}});return{success:!0,data:t.data}}catch(e){var t,s,r,l;return{success:!1,message:(null==(s=e.response)||null==(t=s.data)?void 0:t.detail)||(null==(l=e.response)||null==(r=l.data)?void 0:r.message)||"Error fetching locations."}}}},66474:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},69074:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},71007:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},79033:(e,t,s)=>{Promise.resolve().then(s.bind(s,26196))}},e=>{e.O(0,[586,441,964,358],()=>e(e.s=79033)),_N_E=e.O()}]);