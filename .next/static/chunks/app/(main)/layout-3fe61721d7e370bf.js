(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{2625:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>B});var a=r(95155),l=r(12115);let n=(0,l.createContext)({isOpen:!1,toggleSidebar:()=>{},closeSidebar:()=>{}}),s=e=>{let{children:t}=e,[r,s]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=()=>{window.innerWidth<768?s(!1):s(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.jsx)(n.Provider,{value:{isOpen:r,toggleSidebar:()=>s(e=>!e),closeSidebar:()=>s(!1)},children:t})},o=()=>(0,l.useContext)(n);var i=r(53422),d=r(19946);let u=(0,d.A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var c=r(17633),h=r(84105);let p=e=>{let{isOpen:t,onClose:r,onConfirm:l,isLoading:n=!1}=e;return t?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-gradient-to-b from-slate-50 via-gray-50 to-slate-100 border border-slate-200 rounded-xl max-w-md w-full p-6",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-red-100 to-pink-100 rounded-full",children:(0,a.jsx)(u,{className:"w-8 h-8 text-red-600"})})}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-800 text-center mb-2",children:"Confirm Logout"}),(0,a.jsx)("p",{className:"text-sm text-slate-600 text-center mb-6",children:"Are you sure you want to logout? You will need to sign in again to access your account."}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsx)("button",{onClick:r,disabled:n,className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-slate-100 to-gray-100 border border-slate-200 rounded-xl text-slate-600 font-medium hover:bg-gradient-to-r hover:from-slate-200 hover:to-gray-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,a.jsx)("button",{onClick:l,disabled:n,className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-medium rounded-xl transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2",children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),(0,a.jsx)("span",{children:"Logging out..."})]}):(0,a.jsx)("span",{children:"Logout"})})]})]})})}):null},m=e=>{let{onClick:t,isMobile:r=!1}=e;return r?null:(0,a.jsx)("button",{onClick:t,className:"group relative p-3 rounded-xl bg-gradient-to-br from-red-50 to-pink-50 border border-red-200 hover:border-red-300 transition-all duration-300 mr-4 hover:scale-105","aria-label":"Logout",title:"Logout",children:(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)(u,{className:"w-5 h-5 text-red-600 group-hover:text-red-700 transition-colors duration-200"})})})},b=()=>{let[e,t]=(0,l.useState)(!1),[r,n]=(0,l.useState)(!1),{logout:s}=(0,h.A)(),o=async()=>{t(!0);try{let e=await (0,c.r)();e.success?(s(),console.log("User logged out successfully")):(console.error("Logout failed:",e.message),s())}catch(e){console.error("Logout failed:",e),s()}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m,{onClick:()=>{n(!0)}}),(0,a.jsx)(p,{isOpen:r,onClose:()=>{n(!1)},onConfirm:o,isLoading:e})]})},x=(0,d.A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var g=r(71007);let f=e=>{let{isOpen:t,onClose:r}=e;return t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-transparent z-40",onClick:r}),(0,a.jsxs)("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white border border-slate-200 rounded-xl z-50 shadow-xl overflow-hidden",children:[(0,a.jsx)("div",{className:"px-4 py-3 bg-gradient-to-r from-slate-50 to-gray-50 border-b border-slate-200",children:(0,a.jsx)("p",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Settings"})}),(0,a.jsxs)("div",{className:"py-2",children:[(0,a.jsxs)("button",{onClick:()=>{console.log("General settings clicked"),alert("General settings opened!"),r()},className:"flex items-center w-full px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 transition-colors duration-200",children:[(0,a.jsx)(x,{className:"w-4 h-4 mr-3 text-slate-500"}),(0,a.jsx)("span",{children:"General Settings"})]}),(0,a.jsxs)("button",{onClick:()=>{console.log("Preferences clicked"),alert("Preferences opened!"),r()},className:"flex items-center w-full px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 transition-colors duration-200",children:[(0,a.jsx)(x,{className:"w-4 h-4 mr-3 text-slate-500"}),(0,a.jsx)("span",{children:"Preferences"})]}),(0,a.jsxs)("button",{onClick:()=>{console.log("Account settings clicked"),alert("Account settings opened!"),r()},className:"flex items-center w-full px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 transition-colors duration-200",children:[(0,a.jsx)(g.A,{className:"w-4 h-4 mr-3 text-slate-500"}),(0,a.jsx)("span",{children:"Account Settings"})]})]})]})]}):null},v=e=>{let{onClick:t,isOpen:r}=e;return(0,a.jsx)("button",{onClick:t,className:"group relative flex items-center justify-center w-10 h-10 rounded-full transition-all duration-300 ".concat(r?"bg-gradient-to-br from-slate-100 to-gray-100 border-2 border-slate-300 shadow-md":"bg-gradient-to-br from-slate-100 to-gray-100 border-2 border-slate-200 hover:border-slate-300 hover:shadow-md hover:scale-105"),"aria-label":"Open profile settings",children:(0,a.jsx)("div",{className:"relative flex items-center justify-center w-full h-full rounded-full ".concat("bg-gradient-to-br from-white to-slate-50"),children:(0,a.jsx)(g.A,{className:"w-5 h-5 transition-colors duration-200 ".concat(r?"text-slate-600":"text-slate-500 group-hover:text-slate-700")})})})},y=()=>{let[e,t]=(0,l.useState)(!1);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(v,{onClick:()=>{t(!e)},isOpen:e}),(0,a.jsx)(f,{isOpen:e,onClose:()=>t(!1)})]})},j=()=>(0,a.jsxs)("header",{className:"flex justify-between items-center p-6 bg-gradient-to-r from-slate-50 via-blue-50 to-indigo-50 border-b border-slate-200",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{children:(0,a.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-slate-700 via-blue-700 to-indigo-700 bg-clip-text text-transparent mb-1",children:"Super App"})})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(b,{}),(0,a.jsx)(y,{})]})]});var w=r(35695),N=r(6874),k=r.n(N);let I=(0,d.A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var A=r(66474);let S=(0,d.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),C=(0,d.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var L=r(53904);let E=(0,d.A)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),O=(0,d.A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),T=(0,d.A)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),_=(0,d.A)("file-stack",[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]]),K=(0,d.A)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),M=[{id:"dashboard",icon:E,label:"Dashboard",color:"emerald",href:"/dashboard",subItems:[{id:"dashboard-input",label:"Input",href:"/dashboard/input"},{id:"dashboard-stringer",label:"Stringer",href:"/dashboard/stringer"}]},{id:"input",icon:O,label:"Stringer",color:"purple",href:"",subItems:[{id:"input-listing",label:"Waiting In Input",href:"/list/input/waitList",countKey:"waitList"},{id:"input-to-stringer",label:"Return From Input",href:"/list/input/inputToStringer",countKey:"inputToStringer"},{id:"output-to-stringer",label:"Return From Output",href:"/list/input/outputToStringer",countKey:"outputToStringer"},{id:"draft",label:"Draft",href:"/list/input/inputDraft",countKey:"draft"}]},{id:"input-create",icon:T,label:"Create",color:"emerald",href:"/create"}],R=[{id:"dashboard",icon:E,label:"Dashboard",color:"emerald",href:"/dashboard",subItems:[{id:"dashboard-input",label:"Input",href:"/dashboard/input"},{id:"dashboard-stringer",label:"Stringer",href:"/dashboard/stringer"}]},{id:"input",icon:O,label:"Input",color:"purple",href:"",subItems:[{id:"input-listing",label:"Input Wait List",href:"/list/input/waitList",countKey:"waitList"},{id:"input-wip",label:"Input WIP",href:"/list/input/inputWip",countKey:"inputWip"},{id:"output-to-input",label:"Output to Input",href:"/list/input/outputToInput",countKey:"outputToInput"},{id:"input-to-stringer",label:"Input to Stringer",href:"/list/input/inputToStringer",countKey:"inputToStringer"},{id:"waiting-in-output",label:"Waiting In Output",href:"/list/input/waitingInOutput",countKey:"waitingInOutput"},{id:"published",label:"Published",href:"/list/input/published",countKey:"published"},{id:"draft",label:"Draft",href:"/list/input/inputDraft",countKey:"draft"}]},{id:"input-create",icon:T,label:"Create",color:"emerald",href:"/create"}],z=[{id:"dashboard",icon:E,label:"Dashboard",color:"emerald",href:"/dashboard",subItems:[{id:"dashboard-input",label:"Input",href:"/dashboard/input"},{id:"dashboard-stringer",label:"Stringer",href:"/dashboard/stringer"}]},{id:"input",icon:O,label:"Output",color:"purple",href:"",subItems:[{id:"waiting-in-output",label:"Waiting In Output",href:"/list/input/waitingInOutput",countKey:"waitingInOutput"},{id:"output-wip",label:"Output WIP",href:"/list/input/outputWip",countKey:"outputWip"},{id:"output-to-input",label:"Output to Input",href:"/list/input/outputToInput",countKey:"outputToInput"},{id:"output-to-stringer",label:"Output to Stringer",href:"/list/input/outputToStringer",countKey:"outputToStringer"},{id:"draft",label:"Draft",href:"/list/input/inputDraft",countKey:"draft"}]},{id:"input-create",icon:T,label:"Create",color:"emerald",href:"/create"}],P=[{id:"dashboard",icon:E,label:"Dashboard",color:"emerald",href:"/dashboard",subItems:[{id:"dashboard-input",label:"Input",href:"/dashboard/input"},{id:"dashboard-output",label:"Output",href:"/dashboard/output"},{id:"dashboard-stringer",label:"Stringer",href:"/dashboard/stringer"}]},{id:"input",icon:O,label:"Input",color:"purple",href:"",subItems:[{id:"input-listing",label:"Wait List",href:"/list/input/waitList",countKey:"waitList"},{id:"input-wip",label:"Input WIP",href:"/list/input/inputWip",countKey:"inputWip"},{id:"input-to-stringer",label:"Input to Stringer",href:"/list/input/inputToStringer",countKey:"inputToStringer"},{id:"waiting-in-output",label:"Waiting In Output",href:"/list/input/waitingInOutput",countKey:"waitingInOutput"},{id:"output-to-input",label:"Output to Input",href:"/list/input/outputToInput",countKey:"outputToInput"},{id:"published",label:"Published",href:"/list/input/published",countKey:"published"},{id:"draft",label:"Draft",href:"/list/input/inputDraft",countKey:"draft"}]},{id:"input-create",icon:T,label:"Create",color:"emerald",href:"/create"},{id:"input-activity",icon:_,label:"Activity log",color:"emerald",href:"/activity-log"},{id:"master",icon:K,label:"Master",color:"emerald",href:"/master",subItems:[{id:"master-location",label:"Add Location",href:"/master/location"},{id:"master-tag",label:"Add Tag",href:"/master/tag"},{id:"master-content",label:"Add ContentType",href:"/master/content"},{id:"master-role",label:"Add Role",href:"/master/role"},{id:"master-user",label:"Add User",href:"/master/user"},{id:"master-price",label:"Price",href:"/master/price"}]}],W=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 text-orange-400 border-l-2 border-orange-400":"hover:bg-gradient-to-r hover:from-white/5 hover:to-white/10 text-white hover:text-yellow-300 transition-all duration-200"},D=()=>{let{user:e}=(0,h.A)();(0,w.useRouter)(),console.log("============sujit============="),console.log(e),console.log("============sujit=============");let t=[];(null==e?void 0:e.role_name)==="ROLE_STRINGER"?t=M:(null==e?void 0:e.role_name)==="ROLE_INPUT"?t=R:(null==e?void 0:e.role_name)==="ROLE_OUTPUT"?t=z:(null==e?void 0:e.role_name)==="ROLE_ADMIN"&&(t=P);let{isOpen:r,toggleSidebar:n}=o(),{counts:s,isLoading:d,refreshCounts:u}=(0,i.tL)(),c=(0,w.usePathname)(),[p,m]=(0,l.useState)([]),b=e=>{m(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},x=async()=>{await u()},g=e=>{var t,r;let{item:l,isActive:n=!1,isMinimized:o=!1,expandedMenus:i,onToggleExpand:u}=e,h=l.subItems&&l.subItems.length>0,p=i.includes(l.id),m=n||(e=>!!e.subItems&&e.subItems.some(e=>c===e.href))(l),b=e=>{if(!o&&h){e.preventDefault(),u(l.id);return}},x=l.countKey?s[l.countKey]:l.count,g=()=>(0,a.jsxs)("div",{className:"\n          group relative w-full flex items-center text-left transition-all duration-300 rounded-xl cursor-pointer\n          ".concat(o?"px-2 py-3 justify-center":"px-4 py-3","\n          ").concat(W(l.color,m),"\n          transform hover:scale-105\n        "),title:o?l.label:void 0,onClick:b,children:[(0,a.jsx)("div",{className:"\n          flex items-center justify-center transition-all duration-300\n          ".concat(o?"w-5 h-5":"w-5 h-5 mr-3","\n        "),children:(0,a.jsx)(l.icon,{className:"w-5 h-5"})}),!o&&(0,a.jsxs)("div",{className:"flex items-center justify-between flex-1",children:[(0,a.jsx)("span",{className:"font-semibold text-sm",children:l.label}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[void 0!==x&&x>0&&(0,a.jsx)("span",{className:"\n                  px-2.5 py-1 rounded-full text-xs font-bold\n                  ".concat(m?"bg-orange-500/30 text-orange-300 border border-orange-400/50":"bg-slate-700/50 text-slate-300 border border-slate-600/50","\n                "),children:d?"...":x}),h&&(0,a.jsx)("div",{className:"transition-transform duration-200 p-1 -m-1 rounded hover:bg-white/10",children:p?(0,a.jsx)(I,{className:"w-4 h-4"}):(0,a.jsx)(A.A,{className:"w-4 h-4"})})]})]}),m&&(0,a.jsx)("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1.5 h-8 rounded-r-full ".concat("bg-gradient-to-b from-orange-400 to-yellow-500 shadow-lg shadow-orange-500/50")})]});return(0,a.jsxs)("div",{className:"relative",children:[h?(0,a.jsx)(g,{}):(0,a.jsx)(k(),{href:l.href,children:(0,a.jsx)(g,{})}),h&&!o&&p&&(0,a.jsx)("div",{className:"ml-6 mt-1 space-y-1 border-l-2 border-slate-700/50 pl-4",children:null==(t=l.subItems)?void 0:t.map(e=>{let t=c===e.href,r=e.countKey?s[e.countKey]:void 0;return(0,a.jsx)(k(),{href:e.href,className:"\n                    block px-3 py-2 rounded-lg text-sm transition-all duration-200\n                    ".concat(t?"bg-orange-500/20 text-orange-300 font-medium border-l-2 border-orange-400":"text-slate-300 hover:text-white hover:bg-slate-700/50","\n                  "),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:e.label}),void 0!==r&&r>0&&(0,a.jsx)("span",{className:"\n                        px-2 py-0.5 rounded-full text-xs font-bold\n                        ".concat(t?"bg-orange-500/30 text-orange-300 border border-orange-400/50":"bg-slate-600/50 text-slate-400","\n                      "),children:d?"...":r})]})},e.id)})}),o&&(0,a.jsxs)("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 px-3 py-2 bg-slate-800 border border-orange-400/30 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-all duration-200 pointer-events-none whitespace-nowrap z-50 shadow-lg",children:[l.label,x&&x>0&&(0,a.jsxs)("span",{className:"ml-1 font-bold text-orange-300",children:["(",x,")"]}),h&&(0,a.jsx)("div",{className:"mt-1 pt-1 border-t border-slate-600/50",children:null==(r=l.subItems)?void 0:r.map(e=>{let t=e.countKey?s[e.countKey]:void 0;return(0,a.jsxs)("div",{className:"text-xs text-slate-300",children:[e.label,void 0!==t&&t>0&&(0,a.jsxs)("span",{className:"ml-1 text-orange-300",children:["(",d?"...":t,")"]})]},e.id)})}),(0,a.jsx)("div",{className:"absolute right-full top-1/2 -translate-y-1/2 border-4 border-transparent border-r-slate-800"})]})]})};return(0,a.jsxs)("div",{className:"\n  bg-gradient-to-b from-slate-800 via-slate-900 to-blue-900\n  border-r border-slate-700\n  transition-all duration-500 ease-in-out\n  backdrop-blur-xl\n  shadow-2xl\n  h-screen\n  relative\n  flex flex-col\n  ".concat(r?"w-72":"w-20","\n"),children:[(0,a.jsx)("button",{onClick:n,className:"absolute top-1/2 -translate-y-1/2 -right-3 z-10 w-6 h-12 bg-orange-500 hover:bg-orange-400 border border-orange-400 rounded-r-lg shadow-lg hover:shadow-xl flex items-center justify-center text-white hover:text-white transition-all duration-300 hover:scale-110","aria-label":r?"Minimize sidebar":"Expand sidebar",children:r?(0,a.jsx)(S,{className:"w-4 h-4"}):(0,a.jsx)(C,{className:"w-4 h-4"})}),(0,a.jsx)("nav",{className:"\n  flex-1 overflow-y-auto overflow-x-hidden min-h-0\n  ".concat(r?"px-6 py-6":"px-4 py-4","\n  scrollbar-hide\n"),children:(0,a.jsxs)("div",{children:[(0,a.jsx)(e=>{let{title:t,action:r=!1,isMinimized:l=!1}=e;return(0,a.jsx)("div",{className:"flex items-center justify-between mb-3 ".concat(l?"hidden":"")})},{title:"Main",action:!0,isMinimized:!r}),(0,a.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,a.jsx)(g,{item:e,isActive:c===e.href,isMinimized:!r,expandedMenus:p,onToggleExpand:b},e.id))})]})}),(0,a.jsx)("div",{className:"\n  flex-shrink-0\n  ".concat(r?"p-6 pt-0":"p-4 pt-0","\n  border-t border-slate-700/50\n  bg-gradient-to-t from-slate-900 to-transparent\n"),children:(0,a.jsxs)("button",{onClick:x,disabled:d,className:"\n            w-full p-3 bg-orange-500 hover:bg-orange-400 rounded-lg shadow-lg \n            hover:shadow-xl transition-all duration-300 disabled:opacity-50 \n            hover:scale-105 flex items-center justify-center space-x-2\n            ".concat(r?"":"px-2","\n          "),title:"Refresh counts",children:[(0,a.jsx)(L.A,{className:"w-5 h-5 text-white ".concat(d?"animate-spin":"")}),r&&(0,a.jsx)("span",{className:"text-white font-medium",children:"Refresh"})]})})]})},F=e=>{let{children:t}=e;return(0,a.jsx)("main",{className:"flex-1 overflow-auto bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-700 pt-0 lg:pt-0",children:(0,a.jsx)("div",{className:"p-4 lg:p-6",children:t})})},H=(0,d.A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),U=()=>{let{isOpen:e,toggleSidebar:t}=o();return(0,a.jsxs)("header",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-slate-50 via-blue-50 to-indigo-50 border-b border-slate-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:t,className:"p-2.5 rounded-xl bg-gradient-to-br from-orange-400 to-orange-500 hover:from-orange-500 hover:to-orange-600 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95","aria-label":e?"Close sidebar":"Open sidebar",children:(0,a.jsx)(H,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-slate-700 via-blue-700 to-indigo-700 bg-clip-text text-transparent",children:"Super App"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(y,{}),(0,a.jsx)(b,{})]})]})};var G=r(54416);let V=()=>{let{user:e}=(0,h.A)();(0,w.useRouter)(),console.log("============sujit============="),console.log(e),console.log("============sujit=============");let t=[];(null==e?void 0:e.role_name)==="ROLE_STRINGER"?t=M:(null==e?void 0:e.role_name)==="ROLE_INPUT"?t=R:(null==e?void 0:e.role_name)==="ROLE_OUTPUT"?t=z:(null==e?void 0:e.role_name)==="ROLE_ADMIN"&&(t=P);let{isOpen:r,toggleSidebar:n}=o(),{counts:s,isLoading:d,refreshCounts:u}=(0,i.tL)(),c=(0,w.usePathname)(),[p,m]=(0,l.useState)([]),b=e=>{m(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},x=()=>{n()},g=async()=>{await u()},f=e=>{var t;let{item:r,isActive:l=!1,expandedMenus:n,onToggleExpand:o,onItemClick:i}=e,u=r.subItems&&r.subItems.length>0,h=n.includes(r.id),p=l||(e=>!!e.subItems&&e.subItems.some(e=>c===e.href))(r),m=e=>{if(u){e.preventDefault(),o(r.id);return}i&&i()},b=r.countKey?s[r.countKey]:r.count,x=()=>(0,a.jsxs)("div",{className:"\n          group relative w-full flex items-center text-left transition-all duration-300 rounded-xl cursor-pointer px-4 py-4\n          ".concat(W(r.color,p),"\n          transform hover:scale-[1.02]\n        "),onClick:m,children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-6 h-6 mr-4",children:(0,a.jsx)(r.icon,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{className:"flex items-center justify-between flex-1",children:[(0,a.jsx)("span",{className:"font-semibold text-base",children:r.label}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[void 0!==b&&b>0&&(0,a.jsx)("span",{className:"\n                px-3 py-1.5 rounded-full text-xs font-bold\n                ".concat(p?"bg-orange-500/30 text-orange-300 border border-orange-400/50":"bg-slate-700/50 text-slate-300 border border-slate-600/50","\n              "),children:d?"...":b}),u&&(0,a.jsx)("div",{className:"transition-transform duration-200 p-1 rounded hover:bg-white/10",children:h?(0,a.jsx)(I,{className:"w-5 h-5"}):(0,a.jsx)(A.A,{className:"w-5 h-5"})})]})]}),p&&(0,a.jsx)("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-2 h-10 rounded-r-full ".concat("bg-gradient-to-b from-orange-400 to-yellow-500 shadow-lg shadow-orange-500/50")})]});return(0,a.jsxs)("div",{className:"relative",children:[u?(0,a.jsx)(x,{}):(0,a.jsx)(k(),{href:r.href,children:(0,a.jsx)(x,{})}),u&&h&&(0,a.jsx)("div",{className:"ml-8 mt-2 space-y-1 border-l-2 border-slate-700/50 pl-6",children:null==(t=r.subItems)?void 0:t.map(e=>{let t=c===e.href,r=e.countKey?s[e.countKey]:void 0;return(0,a.jsx)(k(),{href:e.href,className:"\n                    block px-4 py-3 rounded-lg text-base transition-all duration-200\n                    ".concat(t?"bg-orange-500/20 text-orange-300 font-medium border-l-4 border-orange-400":"text-slate-300 hover:text-white hover:bg-slate-700/50","\n                  "),onClick:i,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:e.label}),void 0!==r&&r>0&&(0,a.jsx)("span",{className:"\n                        px-2.5 py-1 rounded-full text-xs font-bold\n                        ".concat(t?"bg-orange-500/30 text-orange-300 border border-orange-400/50":"bg-slate-600/50 text-slate-400","\n                      "),children:d?"...":r})]})},e.id)})})]})};return r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:n}),(0,a.jsxs)("div",{className:"\n        fixed top-0 left-0 h-full w-80 z-50 flex flex-col\n        bg-gradient-to-b from-slate-800 via-slate-900 to-blue-900\n        border-r border-slate-700\n        backdrop-blur-xl\n        shadow-2xl\n        transform transition-transform duration-300 ease-in-out\n        ".concat(r?"translate-x-0":"-translate-x-full","\n      "),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-700/50 flex-shrink-0",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white",children:"Navigation"}),(0,a.jsx)("button",{onClick:n,className:"p-2 rounded-lg hover:bg-slate-700/50 transition-colors duration-200","aria-label":"Close sidebar",children:(0,a.jsx)(G.A,{className:"w-6 h-6 text-slate-400 hover:text-white"})})]}),(0,a.jsx)("nav",{className:"flex-1 p-6 overflow-y-auto overflow-x-hidden",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(e=>{let{title:t,action:r=!1}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:t}),(0,a.jsx)("div",{className:"flex items-center space-x-1",children:(0,a.jsx)("button",{onClick:g,disabled:d,className:"p-1.5 rounded-lg hover:bg-slate-700/50 transition-colors duration-200 disabled:opacity-50",title:"Refresh counts",children:(0,a.jsx)(L.A,{className:"w-3.5 h-3.5 text-slate-400 hover:text-white ".concat(d?"animate-spin":"")})})})]})},{title:"Main"}),(0,a.jsx)("div",{className:"space-y-1",children:t.map(e=>(0,a.jsx)(f,{item:e,isActive:c===e.href,expandedMenus:p,onToggleExpand:b,onItemClick:x},e.id))})]})})]})]}):null},q=e=>{let{children:t}=e;return(0,a.jsx)("main",{className:"flex-1 overflow-auto bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-700 min-h-screen pt-0 lg:pt-0",children:(0,a.jsx)("div",{className:"p-4 lg:p-6",children:t})})};function B(e){let{children:t}=e,r=function(){let[e,t]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=()=>{t(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}();return(0,a.jsx)(i.fn,{children:(0,a.jsx)(s,{children:(0,a.jsxs)("div",{className:"flex flex-col h-screen bg-slate-50 dark:bg-slate-900 overflow-hidden",children:[(0,a.jsx)(r?U:j,{}),(0,a.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,a.jsx)(r?V:D,{}),(0,a.jsx)(r?q:F,{children:t})]})]})})})}},17633:(e,t,r)=>{"use strict";r.d(t,{r:()=>n,J:()=>l});var a=r(59921);let l=async e=>{try{let t=(e=>{let t={};return e.forEach((e,r)=>{t[r]=e}),t})(e),r=btoa(JSON.stringify(t)),l=await a.A.post("/api/auth/login",{data:r},{headers:{"Content-Type":"application/json"}});return{success:!0,data:l.data}}catch(e){var t,r;return{success:!1,message:(null==(r=e.response)||null==(t=r.data)?void 0:t.detail)||"Error signing in."}}},n=async()=>{let e=localStorage.getItem("token");if(["token","user"].forEach(e=>{localStorage.removeItem(e)}),sessionStorage.clear(),!e)return{success:!0,message:"Already logged out"};try{let t=await a.A.post("/api/auth/logout",{},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},timeout:1e3});return{success:!0,message:"Logged out successfully",data:t.data}}catch(e){return{success:!0,message:"Logged out successfully"}}}},36600:(e,t,r)=>{Promise.resolve().then(r.bind(r,2625))},53422:(e,t,r)=>{"use strict";r.d(t,{fn:()=>d,tL:()=>u});var a=r(95155),l=r(12115),n=r(59921);let s=async()=>{var e,t,r,a,l,s,o,i,d,u,c,h,p,m,b,x,g,f,v;let y=localStorage.getItem("token");try{let m=(await n.A.get("/api/content/count",{headers:{"Content-Type":"application/json",...y&&{Authorization:"Bearer ".concat(y)}}})).data;return m.success&&m.data&&(m=m.data),{draft:Number(null==(e=m["1"])?void 0:e.count)||0,waitList:Number(null==(t=m["2"])?void 0:t.count)||0,waitingInOutput:Number(null==(r=m["3"])?void 0:r.count)||0,rejected:Number(null==(a=m["4"])?void 0:a.count)||0,published:Number(null==(l=m["5"])?void 0:l.count)||0,deleted:Number(null==(s=m["6"])?void 0:s.count)||0,inputToStringer:Number(null==(o=m["7"])?void 0:o.count)||0,outputToInput:Number(null==(i=m["8"])?void 0:i.count)||0,inputWip:Number(null==(d=m["9"])?void 0:d.count)||0,outputWip:Number(null==(u=m["10"])?void 0:u.count)||0,outputToStringer:Number(null==(c=m["11"])?void 0:c.count)||0,stringerToOutput:Number(null==(h=m["12"])?void 0:h.count)||0,shared:Number(null==(p=m["13"])?void 0:p.count)||0}}catch(e){throw Error((null==(b=e.response)||null==(m=b.data)?void 0:m.message)||(null==(g=e.response)||null==(x=g.data)?void 0:x.detail)||(null==(v=e.response)||null==(f=v.data)?void 0:f.error)||e.message||"Failed to fetch counts")}},o={draft:0,waitList:0,waitingInOutput:0,rejected:0,published:0,deleted:0,inputToStringer:0,outputToInput:0,inputWip:0,outputWip:0,outputToStringer:0,stringerToOutput:0,shared:0},i=(0,l.createContext)(void 0),d=e=>{let{children:t}=e,[r,n]=(0,l.useState)(o),[d,u]=(0,l.useState)(!1),[c,h]=(0,l.useState)(null),p=(0,l.useRef)(!0),m=(0,l.useCallback)(async()=>{if(p.current)try{u(!0),h(null);let e=await s();p.current&&n(e)}catch(e){p.current&&h(e instanceof Error?e.message:"Failed to fetch counts")}finally{p.current&&u(!1)}},[]),b=(0,l.useCallback)((e,t)=>{n(r=>({...r,[e]:t}))},[]);return(0,l.useEffect)(()=>(p.current=!0,m(),()=>{p.current=!1}),[m]),(0,l.useEffect)(()=>{let e=()=>{p.current&&!document.hidden&&m()},t=()=>{!document.hidden&&p.current&&m()};return window.addEventListener("focus",e),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("focus",e),document.removeEventListener("visibilitychange",t)}},[m]),(0,a.jsx)(i.Provider,{value:{counts:r,isLoading:d,error:c,refreshCounts:m,updateCount:b},children:t})},u=()=>{let e=(0,l.useContext)(i);return void 0===e?{counts:o,isLoading:!1,error:null,refreshCounts:async()=>{},updateCount:()=>{}}:e}},53904:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},54416:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},59576:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,AuthProvider:()=>i});var a=r(95155),l=r(12115),n=r(35695),s=r(29159);let o=(0,l.createContext)(void 0),i=e=>{let{children:t}=e,[r,i]=(0,l.useState)(null),[d,u]=(0,l.useState)(!0),c=(0,n.useRouter)();return(0,l.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("tokenExpiration");if(e&&t)if(new Date().getTime()<parseInt(t))try{let t=(0,s.s)(e);i({user_id:(null==t?void 0:t.user_id)||"0",email:(null==t?void 0:t.email)||"",name:(null==t?void 0:t.name)||"",phone:(null==t?void 0:t.phone)||"",role_id:(null==t?void 0:t.role_id)||"",role_name:(null==t?void 0:t.role_name)||"",role_data:(null==t?void 0:t.role_data)||{}})}catch(e){console.error("Error decoding token:",e),localStorage.removeItem("token"),localStorage.removeItem("tokenExpiration")}else localStorage.removeItem("token"),localStorage.removeItem("tokenExpiration");u(!1)},[]),(0,a.jsx)(o.Provider,{value:{user:r,loading:d,isAuthenticated:!!r,login:e=>{try{let t=new Date().getTime()+288e5;localStorage.setItem("token",e),localStorage.setItem("tokenExpiration",t.toString());let r=(0,s.s)(e);i({user_id:(null==r?void 0:r.user_id)||"Guest",email:(null==r?void 0:r.email)||"",name:(null==r?void 0:r.name)||"",phone:(null==r?void 0:r.phone)||"",role_id:(null==r?void 0:r.role_id)||"",role_name:(null==r?void 0:r.role_name)||"",role_data:(null==r?void 0:r.role_data)||{}})}catch(e){console.error("Error during login:",e)}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("tokenExpiration"),i(null),c.replace("/login")}},children:t})},d=()=>{let e=(0,l.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},59921:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let a=r(23464).A.create({baseURL:"https://sppyapi.odishatv.in"});a.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});let l=a},71007:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},84105:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(59576);let l=()=>{let{user:e,loading:t,isAuthenticated:r,login:l,logout:n}=(0,a.A)();return{user:e,loading:t,isAuthenticated:r,login:l,logout:n}}}},e=>{e.O(0,[586,55,441,964,358],()=>e(e.s=36600)),_N_E=e.O()}]);