(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{18582:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,62093,23)),Promise.resolve().then(r.t.bind(r,27735,23)),Promise.resolve().then(r.t.bind(r,30347,23)),Promise.resolve().then(r.bind(r,59576)),Promise.resolve().then(r.bind(r,37049))},27735:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}},29159:(e,t,r)=>{"use strict";r.d(t,{s:()=>l});class o extends Error{}function l(e,t){let r;if("string"!=typeof e)throw new o("Invalid token specified: must be a string");t||(t={});let l=+(!0!==t.header),a=e.split(".")[l];if("string"!=typeof a)throw new o(`Invalid token specified: missing part #${l+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(a)}catch(e){throw new o(`Invalid token specified: invalid base64 for part #${l+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new o(`Invalid token specified: invalid json for part #${l+1} (${e.message})`)}}o.prototype.name="InvalidTokenError"},30347:()=>{},35695:(e,t,r)=>{"use strict";var o=r(18999);r.o(o,"useParams")&&r.d(t,{useParams:function(){return o.useParams}}),r.o(o,"usePathname")&&r.d(t,{usePathname:function(){return o.usePathname}}),r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}})},37049:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>n});var o=r(95155),l=r(12115);let a=(0,l.createContext)({theme:"light",toggleTheme:()=>{}}),n=e=>{let{children:t}=e,[r,n]=(0,l.useState)("light");return(0,o.jsx)(a.Provider,{value:{theme:r,toggleTheme:()=>n(e=>"light"===e?"dark":"light")},children:t})}},59576:(e,t,r)=>{"use strict";r.d(t,{A:()=>u,AuthProvider:()=>s});var o=r(95155),l=r(12115),a=r(35695),n=r(29159);let i=(0,l.createContext)(void 0),s=e=>{let{children:t}=e,[r,s]=(0,l.useState)(null),[u,d]=(0,l.useState)(!0),c=(0,a.useRouter)();return(0,l.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("tokenExpiration");if(e&&t)if(new Date().getTime()<parseInt(t))try{let t=(0,n.s)(e);s({user_id:(null==t?void 0:t.user_id)||"0",email:(null==t?void 0:t.email)||"",name:(null==t?void 0:t.name)||"",phone:(null==t?void 0:t.phone)||"",role_id:(null==t?void 0:t.role_id)||"",role_name:(null==t?void 0:t.role_name)||"",role_data:(null==t?void 0:t.role_data)||{}})}catch(e){console.error("Error decoding token:",e),localStorage.removeItem("token"),localStorage.removeItem("tokenExpiration")}else localStorage.removeItem("token"),localStorage.removeItem("tokenExpiration");d(!1)},[]),(0,o.jsx)(i.Provider,{value:{user:r,loading:u,isAuthenticated:!!r,login:e=>{try{let t=new Date().getTime()+288e5;localStorage.setItem("token",e),localStorage.setItem("tokenExpiration",t.toString());let r=(0,n.s)(e);s({user_id:(null==r?void 0:r.user_id)||"Guest",email:(null==r?void 0:r.email)||"",name:(null==r?void 0:r.name)||"",phone:(null==r?void 0:r.phone)||"",role_id:(null==r?void 0:r.role_id)||"",role_name:(null==r?void 0:r.role_name)||"",role_data:(null==r?void 0:r.role_data)||{}})}catch(e){console.error("Error during login:",e)}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("tokenExpiration"),s(null),c.replace("/login")}},children:t})},u=()=>{let e=(0,l.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},62093:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_188709",variable:"__variable_188709"}}},e=>{e.O(0,[360,441,964,358],()=>e(e.s=18582)),_N_E=e.O()}]);